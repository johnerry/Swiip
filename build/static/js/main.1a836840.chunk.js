(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{160:function(e,a,t){e.exports=t.p+"static/media/garbage_bag.9d9e13d8.jpg"},162:function(e,a,t){e.exports=t.p+"static/media/sweeper_logo.4bfcf060.png"},163:function(e,a,t){e.exports=t.p+"static/media/sweeper_small_logo.38eeb870.png"},168:function(e,a,t){e.exports=t(318)},173:function(e,a,t){},315:function(e,a,t){},316:function(e,a,t){},317:function(e,a,t){},318:function(e,a,t){"use strict";t.r(a);var n,r,i,o,s,l,c=t(0),m=t.n(c),u=t(37),d=t.n(u),p=(t(173),t(17)),h=t(50),g=t(23),f=t(32),E=f.createBrowserHistory,y=E(),b=t(25),v=t(8),N=t(9),S=t(5),D=t(11),k=t(10),O=t(12),w=t(26),C=t(13),_=t(157),j=t.n(_),A=new j.a({encodingType:"aes"}),x=function(){return sessionStorage.getItem("swiipDuration")?"session":"local"},L=function(){return"session"===x()?sessionStorage.getItem("swiipEmail"):A.get("swiipEmail")},T=function(){return"session"===x()?sessionStorage.getItem("swiipUserType"):A.get("swiipUserType")},F=function(){return"session"===x()?sessionStorage.getItem("swiipLatLng"):A.get("swiipLatLng")},M=function(){return"session"===x()?sessionStorage.getItem("swiipName"):A.get("swiipName")},U=function(){return"session"===x()?sessionStorage.getItem("swiipImage"):A.get("swiipImage")},I=function(e){"session"===x()?sessionStorage.setItem("swiipImage",e):A.set("swiipImage",e)},R=function(e){"session"===x()?sessionStorage.setItem("swiipName",e):A.set("swiipName",e)},P=function(e){"session"===x()?sessionStorage.setItem("swiipLatLng",e):A.set("swiipName",e)},q=function(){return localStorage.getItem("swiipOrderQty")},B=function(e){localStorage.setItem("swiipOrderQty",e)},H=function(){V(),window.location.reload(!0)},J=function(){return"session"===x()?{id:sessionStorage.getItem("swiipID"),name:sessionStorage.getItem("swiipName"),findBy:sessionStorage.getItem("swiipEmail"),user_type:sessionStorage.getItem("swiipUserType"),token:sessionStorage.getItem("swiipToken")}:{id:A.get("swiipID"),name:A.get("swiipName"),findBy:A.get("swiipEmail"),user_type:A.get("swiipUserType"),token:A.get("swiipToken")}},V=function(){A.removeAll(),sessionStorage.clear(),localStorage.clear()},Y=function(e){"session"===x()?sessionStorage.setItem("swiipToken",e):A.set("swiipToken",e)},W=function(e,a,t,n,r,i,o,s){"session"===s?(sessionStorage.setItem("swiipID",e),sessionStorage.setItem("swiipName",a),sessionStorage.setItem("swiipEmail",t),sessionStorage.setItem("swiipUserType",n),sessionStorage.setItem("swiipToken",r),sessionStorage.setItem("swiipImage",i),sessionStorage.setItem("swiipLatLng",o),sessionStorage.setItem("swiipDuration",s)):(A.set("swiipID",e),A.set("swiipName",a),A.set("swiipEmail",t),A.set("swiipUserType",n),A.set("swiipToken",r),A.set("swiipImage",i),A.set("swiipLatLng",o),A.set("swiipDuration",s))},z=t(167),G=function(e){var a={'"Segoe UI"':"Segoe UI",'"Open Sans"':" Open Sans",'"Fira Sans"':"Fira Sans",'"Helvetica Neue"':"Helvetica Neue","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'"};return e.replace(/&amp;|&lt;|&gt;|&quot;|&#039;|"Segoe UI"|"Open Sans"|"Fira Sans"|"Helvetica Neue"/gi,(function(e){return a[e]}))},Q=function(e,a){var t="";for(var n in e)t=t+"\\"+n+"|";var r=new RegExp(t.substring(0,t.length-1),"gi");return a.replace(r,(function(a){return e[a]}))},K=function(e){var a=new Date(1e3*e),t=a.getFullYear(),n="'"+t.toString().substring(2),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()],i=a.getDate(),o=a.getHours(),s=a.getMinutes(),l=o>=12?"pm":"am";return{year:t,shortYear:n,month:r,day:i,hour:o=(o=(o%=12)||12)<10?"0"+o:o,minute:s=s<10?"0"+s:s,ampm:l}},Z=function(e){return function e(a){return a.map((function(a,t){var n={key:t},r=a.attributes,i=a.localName,o=a.childNodes,s=a.nodeValue;return r&&Array.from(r).forEach((function(e){if("style"===e.name){var a=e.nodeValue.split(";"),t={};a.forEach((function(e){var a=e.split(":"),n=Object(z.a)(a,2),r=n[0],i=n[1];r=function(e){var a={"font-size":"fontSize","font-family":"fontFamily","background-color":"backgroundColor","text-align":"textAlign"};return e.replace(/font-size|font-family|background-color|text-align/gi,(function(e){return a[e]}))}(r),t[r]=i})),n[e.name]=t}else n[e.name]=e.nodeValue})),i?m.a.createElement(i,n,o&&Array.isArray(Array.from(o))?e(Array.from(o)):[]):s}))}(Array.from((a=e.domString,(new DOMParser).parseFromString(a,"text/html").body.childNodes)));var a},$=t(323),X=t(324),ee=t(325),ae=t(326),te=t(327),ne=t(328),re=t(329),ie=t(330),oe=t(331),se=t(158),le=t(332),ce=t(159),me=t(24),ue=t.n(me),de=t(35),pe=t(45),he=t.n(pe),ge=function(e){return{type:"FETCH_USER_DATA_SUCCESS",payload:e}},fe=function(e){return{type:"FETCH_USER_DATA_FAILURE",payload:e}},Ee=function(){return function(){var e=Object(de.a)(ue.a.mark((function e(a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"RESET_USER_DATA"});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},ye=function(e){return function(){var a=Object(de.a)(ue.a.mark((function a(t){return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{t({type:"FETCH_USER_DATA_REQUEST"}),he.a.post("https://swiip.000webhostapp.com/account.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var a=e.data;t(ge(a))})).catch((function(e){var a=e.message;t(fe(a))}))}catch(n){}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},be=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={email:"",password:"",keep_signIn:!1,buttonText:"",notification:""},n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.id,"keep_signIn"===e.target.id?e.target.checked:e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.props.sendFetchData,t=this.state,n=t.email,r=t.password,i=JSON.stringify({email:n,password:r}),o=new FormData;o.append("request","login"),o.append("data",encodeURIComponent(i)),a(o)}},{key:"componentDidMount",value:function(){var e=this.props.resetUserData;L()&&T()?this.props.history.push("/account"):e()}},{key:"componentDidUpdate",value:function(e){var a="",t=this.props.userData,n=t.userloading,r=t.error,i=t.errorMessage,o=t.userData,s=this.state.keep_signIn;if(this.props!==e&&("true"===r&&""!==i&&this.setState({notification:i}),0!==o.length))if("false"===o.error&&"done"===n&&"Login success"===o.message){a=!0===s?"local":"session";var l=o.data[0],c=l.id,m=l.email,u=l.name,d=l.user_type,p=l.token,h=l.image,g=l.defaultLatLng;W(c,u,m,d,p,h,G(g),a),this.props.history.push("/account")}else this.setState({notification:o.errorMessage})}},{key:"render",value:function(){var e="",a=this.state,t=a.email,n=a.password,r=a.notification,i=this.props.userData.userloading;return e="done"===i?"Login":"true"===i?m.a.createElement("div",{id:"loader"}):"Login",m.a.createElement("div",{className:"app flex-row align-items-center background_image"},m.a.createElement($.a,null,m.a.createElement(X.a,{className:"justify-content-center"},m.a.createElement(ee.a,{md:"9"},m.a.createElement(ae.a,null,m.a.createElement(te.a,{className:"p-4"},m.a.createElement(ne.a,null,m.a.createElement(re.a,{onSubmit:this.handleSubmit,method:"post"},m.a.createElement("h1",null,"Login"),m.a.createElement("p",{className:"text-muted"},"Sign In to your account"),m.a.createElement("span",{className:"error"},r," "),m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("i",{className:"fa fa-user"}))),m.a.createElement(le.a,{type:"text",id:"email",value:t,onChange:this.handleChange,placeholder:"Email",autoComplete:"email",required:!0})),m.a.createElement("span",{className:"error"},r),m.a.createElement(ie.a,{className:"mb-4"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("i",{className:"fa fa-lock"}))),m.a.createElement(le.a,{type:"password",id:"password",value:n,onChange:this.handleChange,placeholder:"Password",autoComplete:"password",required:!0})),m.a.createElement(X.a,null,m.a.createElement(ee.a,{xs:"7",style:{paddingRight:"0px"}},m.a.createElement("span",{id:"switch"},m.a.createElement(w.i,{onChange:this.handleChange,id:"keep_signIn",className:"mx-1",variant:"3d",color:"primary",size:"sm"})),"\xa0 Remember me"),m.a.createElement(ee.a,{xs:"5",className:"text-right"},m.a.createElement(ce.a,{color:"link",className:"px-0"},m.a.createElement(O.Link,{to:"/message",style:{fontSize:"0.85em"}},"Forgot password?")))),m.a.createElement(X.a,{className:"login_register"},m.a.createElement(ee.a,{xs:"6"},m.a.createElement(ce.a,{color:"primary",type:"submit",className:"px-4"},e)),m.a.createElement(ee.a,{xs:"6",className:"text-right"},m.a.createElement(O.Link,{to:"/register"},m.a.createElement(ce.a,{color:"dark",className:"px-3"},"Register"))))))),m.a.createElement(te.a,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"}},m.a.createElement(ne.a,{className:"text-center"},m.a.createElement("div",null,m.a.createElement("h2",null,"Sign up"),m.a.createElement("p",null,"Welcome to Broomy. ",m.a.createElement("br",null)," This website is  currently under development, but you can create your customer account by clicking on the link below! "),m.a.createElement(O.Link,{to:"/register"},m.a.createElement(ce.a,{color:"primary",className:"mt-3",active:!0,tabIndex:-1},"Register Now!"))))))))))}}]),t}(c.Component),ve=Object(C.d)(g.o,Object(p.b)((function(e){return{userData:e.userData}}),(function(e){return{resetUserData:function(){return e(Ee())},sendFetchData:function(a){return e(ye(a))}}})))(be),Ne=t(322),Se=t(319),De=t(320),ke=t(333),Oe=t(334),we=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={email:"",phoneNumber:"",name:"",gender:"Male",birthday:"",state:"Abuja",country:"Nigeria",companyName:"",address:"",formFor:"customer",activeTab:["1"]},n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"toggle",value:function(e,a){this.setState({formFor:a,activeTab:[e]})}},{key:"form",value:function(e){var a,t="",n="",r=this.state,i=r.email,o=r.phoneNumber,s=r.name,l=r.gender,c=r.birthday,u=r.state,d=r.country,p=r.companyName,h=r.address,g=this.props.userData,f=g.userloading,E=g.error,y=g.errorMessage,b=g.userData;return n="true"===E&&""!==y?y:"true"===b.error?b.errorMessage:"",t="done"===f?"Create Account":"true"===f?m.a.createElement("div",{id:"loader"}):"Create Account",a="customer"===e?m.a.createElement(m.a.Fragment,null,m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("i",{className:"fa fa-user"}))),m.a.createElement(le.a,{type:"text",id:"name",value:s,onChange:this.handleChange,placeholder:"Surname - Space - Name",autoComplete:"name",required:!0})),m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("span",{role:"img","aria-label":"name"},"\u26a4"))),m.a.createElement(le.a,{type:"select",id:"gender",value:l,onChange:this.handleChange},m.a.createElement("option",null,"Male"),m.a.createElement("option",null,"Female"))),m.a.createElement(ie.a,{className:"mb-4"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("span",{role:"img","aria-label":"name"},"\ud83d\udcc6 \xa0 Birth"))),m.a.createElement(le.a,{type:"date",id:"birthday",value:c,onChange:this.handleChange,max:"2030-12-30",min:"1940-01-01",placeholder:"yyyy-mm-dd",required:!0}))):m.a.createElement(m.a.Fragment,null,m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("span",{role:"img","aria-label":"name"},"\ud83c\udfdb"))),m.a.createElement(le.a,{type:"text",id:"companyName",value:p,onChange:this.handleChange,placeholder:"Company FULL Name",autoComplete:"company",required:!0})),m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("span",{role:"img","aria-label":"name"},"\u26d6"))),m.a.createElement(le.a,{type:"textarea",style:{height:"6.7em"},id:"address",value:h,onChange:this.handleChange,placeholder:"Company Address",autoComplete:"address",required:!0}))),m.a.createElement(re.a,{onSubmit:this.handleSubmit,method:"post",id:e},m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("i",{className:"fa fa-envelope"}))),m.a.createElement(le.a,{type:"text",id:"email",value:i,onChange:this.handleChange,placeholder:"Email",autoComplete:"email",required:!0})),m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("span",{role:"img","aria-label":"phone"},"\u260e"))),m.a.createElement(le.a,{type:"text",id:"phoneNumber",value:o,onChange:this.handleChange,placeholder:"Phone Number",autoComplete:"phone number",required:!0})),a,m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("span",{role:"img","aria-label":"name"},"\u2691"))),m.a.createElement(le.a,{type:"select",id:"state",value:u,onChange:this.handleChange},m.a.createElement("option",null,"Abuja"),m.a.createElement("option",null,"Ibadan"),m.a.createElement("option",null,"Lagos"))),m.a.createElement(ie.a,{className:"mb-3"},m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("span",{role:"img","aria-label":"name"},"\u2691"))),m.a.createElement(le.a,{type:"select",id:"country",value:d,onChange:this.handleChange,disabled:!0},m.a.createElement("option",null,"Nigeria"),m.a.createElement("option",null,"Ghana"),m.a.createElement("option",null,"Kenya"))),m.a.createElement("span",{className:"error"},n)," ",m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(ce.a,{type:"submit",color:"success",block:!0},t))}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"latLngPicker",value:function(e){return{Abuja:'{ "lat": 9.083349, "lng": 7.536111 }',Ibadan:'{ "lat":7.442969, "lng": 3.894776 }',Lagos:'{ "lat":6.606204, "lng": 3.347276 }'}[e]}},{key:"handleSubmit",value:function(e){var a;e.preventDefault();var t=this.state,n=t.email,r=t.phoneNumber,i=t.name,o=t.gender,s=t.birthday,l=t.state,c=t.country,m=t.companyName,u=t.address,d=t.formFor,p=new Date,h=p.getUTCMonth()+1,g=p.getUTCDate(),f=p.getUTCFullYear()+"-"+h+"-"+g;a="customer"===d?JSON.stringify({email:n,phoneNumber:r,name:i,gender:o,birthday:s,defaultAddress:"".concat(l," State, ").concat(c," (Please change)"),defaultLatLng:this.latLngPicker(l),state:l,country:c}):JSON.stringify({email:n,phoneNumber:r,name:m,gender:o,birthday:f,defaultAddress:u,defaultLatLng:this.latLngPicker(l),state:l,country:c});var E=new FormData;E.append("request","register"),E.append("user_type",d),E.append("data",encodeURIComponent(a)),(0,this.props.sendFetchData)(E)}},{key:"componentDidMount",value:function(){var e=this.props.resetUserData;L()&&T()?this.props.history.push("/order"):e()}},{key:"componentDidUpdate",value:function(e){var a=this.props.userData,t=a.userloading,n=a.userData;this.props!==e&&(console.log(n),0!==n.length&&"false"===n.error&&"done"===t&&this.props.history.push("/message",{data:"registration_success"}))}},{key:"render",value:function(){var e,a,t=this;return"1"===this.state.activeTab[0]?(e=this.form("customer"),a=""):(e="",a=this.form("agent")),m.a.createElement("div",{className:"app flex-row align-items-center background_image"},m.a.createElement($.a,null,m.a.createElement(X.a,{className:"justify-content-center"},m.a.createElement(ee.a,{xs:"12",sm:"12",md:"9",lg:"7",xl:"6"},m.a.createElement("br",null),m.a.createElement(te.a,{className:"mx-6"},m.a.createElement(ne.a,{className:"p-4"},m.a.createElement("h1",null,"Register"),m.a.createElement("p",{className:"text-muted"},"Create your account"),m.a.createElement(Ne.a,{tabs:!0},m.a.createElement(Se.a,{style:{width:"50%",textAlign:"center"}},m.a.createElement(De.a,{active:"1"===this.state.activeTab[0],onClick:function(){t.toggle("1","customer")}},"Customer")),m.a.createElement(Se.a,{style:{width:"50%",textAlign:"center"},title:"disabled"},m.a.createElement(De.a,{active:"2"===this.state.activeTab[0],onClick:function(){t.toggle("2","agent")}},"Agent"))),m.a.createElement(ke.a,{activeTab:this.state.activeTab[0]},m.a.createElement(Oe.a,{tabId:"1"},e),m.a.createElement(Oe.a,{tabId:"2"},a))))))))}}]),t}(c.Component),Ce=Object(C.d)(g.o,Object(p.b)((function(e){return{userData:e.userData}}),(function(e){return{resetUserData:function(){return e(Ee())},sendFetchData:function(a){return e(ye(a))}}})))(we),_e=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={screen:"",email:""},n.changeDisplayOpt=n.changeDisplayOpt.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n.handleChange=n.handleChange.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"changeDisplayOpt",value:function(e){this.setState({screen:e})}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"componentDidMount",value:function(){var e=this.props.resetUserData;L()&&T()?this.props.history.push("/order"):(e(),void 0!==this.props.location.state&&"registration_success"===this.props.location.state.data&&(this.props.history.replace("/message",{data:""}),this.changeDisplayOpt("registration_success")))}},{key:"componentDidUpdate",value:function(e){var a=this.props.userData,t=a.userloading,n=a.userData;this.props!==e&&0!==n.length&&"false"===n.error&&"done"===t&&this.changeDisplayOpt("password_reset_success")}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.state.email,t=JSON.stringify({email:a}),n=new FormData;n.append("request","reset_pass"),n.append("data",encodeURIComponent(t)),(0,this.props.sendFetchData)(n)}},{key:"render",value:function(){var e="",a="",t="",n=this.state,r=n.screen,i=n.email,o=this.props.userData,s=o.userloading,l=o.error,c=o.errorMessage,u=o.userData;switch(t="true"===l&&""!==c?c:"true"===u.error?u.errorMessage:"",a="done"===s?"RESET PASSWORD":"true"===s?m.a.createElement("div",{id:"loader"}):"RESET PASSWORD",r){case"password_reset_success":e=m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),m.a.createElement("h3",{align:"center"}," Password Reset Successful"),m.a.createElement("br",null),m.a.createElement("h5",{style:{backgroundColor:"#e0f0d7",padding:"0.7em",borderRadius:"0.5em"}}," ",m.a.createElement("span",{role:"img",className:"check_mark"}," \u2714"),"Your password has been sent to your email address.")," ",m.a.createElement("br",null),m.a.createElement("h5",null,"Click ",m.a.createElement(O.Link,{to:"/login"},"here")," to return to the login page"),m.a.createElement("br",null));break;case"registration_success":e=m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"clearfix"},m.a.createElement("br",null),m.a.createElement("h6",{className:"float-left display-4"},m.a.createElement("span",{role:"img","aria-label":"confirmed",className:"check_mark"}," \u2714")),m.a.createElement("h5",{className:"pt-3"},"Registered Successfully!"),m.a.createElement("p",null,"Check your email for login details"),m.a.createElement("h5",null,"Click ",m.a.createElement(O.Link,{to:"/login"},"here")," to return to the login page"),m.a.createElement("br",null)));break;default:e=m.a.createElement(m.a.Fragment,null,m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("br",null),m.a.createElement("h3",{align:"center"}," Password Assistant"),m.a.createElement("br",null),m.a.createElement("h5",null," ",m.a.createElement("span",{role:"img","aria-label":"issue",style:{fontSize:"2em",marginRight:"0.5em"}},"\ud83d\ude05")," Please enter the email address associated with your account. We will send you a new password!")," ",m.a.createElement("br",null),m.a.createElement(le.a,{type:"text",id:"email",value:i,onChange:this.handleChange,placeholder:"Email",autoComplete:"email",required:!0}),m.a.createElement("span",{className:"error"},t)," ",m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(ce.a,{type:"submit",color:"success",block:!0},a)," ",m.a.createElement("br",null)))}return m.a.createElement("div",{className:"app flex-row align-items-center background_image"},m.a.createElement($.a,null,m.a.createElement(X.a,{className:"justify-content-center",style:{backgroundColor:"white",borderRadius:"1em",border:"1px solid darkgrey"}},m.a.createElement(ee.a,null,e))))}}]),t}(c.Component),je=Object(C.d)(g.o,Object(p.b)((function(e){return{userData:e.userData}}),(function(e){return{resetUserData:function(){return e(Ee())},sendFetchData:function(a){return e(ye(a))}}})))(_e),Ae={items:[{name:"My Account",url:"/account",icon:"fa fa-user"},{name:"Order",url:"/order",icon:"fa fa-cart-plus"},{name:"Community",url:"/community",icon:"fa fa-globe"},{name:"History",url:"/history",icon:"fa fa-history"},{name:"Support",url:"/support",icon:"fa fa-question-circle"},{name:"About",url:"/about",icon:"fa fa-info-circle"}]},xe={items:[{name:"My Account",url:"/account",icon:"fa fa-user"},{name:"Pickups",url:"/pickups",icon:"fa fa-truck",children:[{name:"New",url:"/pickups/new",icon:"fa fa-plus-circle"},{name:"Pending",url:"/pickups/pending",icon:"fa fa-pause-circle-o"}]},{name:"History",url:"/history",icon:"fa fa-history"},{name:"Support",url:"/support",icon:"fa fa-question-circle"}]},Le={items:[{name:"My Account",url:"/account",icon:"fa fa-user"},{name:"Agents",url:"/agent",icon:"fa fa-users"},{name:"Communty",url:"/communty",icon:"fa fa-globe",children:[{name:"Add",url:"/community/edit",icon:"fa fa-plus-circle"},{name:"Review",url:"/community",icon:"fa fa-eye"}]},{name:"Customer",url:"/customer",icon:"fa fa-male"}]},Te=t(160),Fe=t.n(Te),Me=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={quantity:2,price:400,transportFee:100,total:500,notification:""},n.handleChange=n.handleChange.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"handleChange",value:function(e){var a;e.preventDefault();var t=this.state.quantity;switch(e.target.id){case"minus":t>2?(B(a=t-1),this.setState({quantity:a,price:200*a,transportFee:50*a,total:50*a+200*a})):this.setState({notification:"Minimum order recieved"});break;case"plus":t<30?(B(a=t+1),this.setState({quantity:a,price:200*a,transportFee:50*a,total:50*a+200*a})):this.setState({notification:"Maximum order recieved"});break;default:B(2),this.setState({quantity:2,price:400,transportFee:100,total:500,notification:""})}}},{key:"componentDidMount",value:function(){q()?this.setState({quantity:1*q(),price:200*q(),transportFee:50*q(),total:50*q()+200*q()}):B(2)}},{key:"render",value:function(){var e=this.state,a=e.quantity,t=e.price,n=e.transportFee,r=e.total;return m.a.createElement(m.a.Fragment,null,m.a.createElement(X.a,null,m.a.createElement("div",{className:"order_content"},m.a.createElement("div",{className:"bag"},m.a.createElement("p",{className:"bag-head"},m.a.createElement("span",{className:"uppercase"},"Your Bag")," - ",a," item")),m.a.createElement("div",{className:"bag-product"},m.a.createElement("div",{className:"image"},m.a.createElement("img",{src:Fe.a,className:"product-image",alt:"waste bag"})),m.a.createElement("div",{className:"description"},m.a.createElement("br",null),m.a.createElement("span",{className:"invinsible_hr"}),m.a.createElement("span",{className:"h1"},"Waste Bag Pickup"),m.a.createElement("p",{className:"blur"},"Type: Standard plastic bag"),m.a.createElement("p",{className:"description-text"},"Select quantity according to plastic bag in description."),m.a.createElement("p",{className:"blur"},"Bag size: 0.5m x 0.5m"),m.a.createElement("span",{className:"h1"},"\u20a6",t,".00"),m.a.createElement("div",{className:"quantity-wrapper"},m.a.createElement("div",{className:"increase_wrapper"},m.a.createElement("span",{className:"incremento"},m.a.createElement("button",{type:"button",name:"button",id:"minus",onClick:this.handleChange,className:"but"},m.a.createElement("span",{id:"minus",role:"img","aria-label":"minus"}," \u2796")),m.a.createElement("label",{htmlFor:"quantity"}),m.a.createElement("span",{className:"quantity"},a),m.a.createElement("button",{type:"button",name:"button",id:"plus",onClick:this.handleChange,className:"but"},m.a.createElement("span",{id:"plus",role:"img","aria-label":"plus"}," \u2795")))),m.a.createElement("button",{id:"del",className:"btn-remove uppercase",onClick:this.handleChange},m.a.createElement("span",{id:"del",role:"img","aria-label":"del"},"\ud83d\uddd1 del"))))),m.a.createElement("div",{className:"bag-total"},m.a.createElement("div",{className:"subtotal"},m.a.createElement("p",{className:""},"Subtotal:"),m.a.createElement("p",{className:""},"\u20a6",t,".00")),m.a.createElement("div",{className:"delivery"},m.a.createElement("p",{className:""},"Pickup in (8 working days):"),m.a.createElement("p",{className:""},"\u20a6",n,".00")),m.a.createElement("hr",null),m.a.createElement("div",{className:"total"},m.a.createElement("h3",null,"Total:"),m.a.createElement("h3",null,"\u20a6",r,".00")),m.a.createElement(O.Link,{to:"/order/summary"},m.a.createElement("button",{className:"btn-go-checkout uppercase"}," Checkout"))))))}}]),t}(c.Component),Ue=t(335),Ie=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={defaultAddressBox:"",defaultLatLng:{lat:6.60954222424663,lng:3.370920970651687},searchBox:"",addressBox:"",phone:"",newLatLng:"",pickupStateCountry:"",setAsDefault:!1,notification:"",notifDisplay:"none"},n.googleMapRef=m.a.createRef(),n.initAutocomplete=n.initAutocomplete.bind(Object(S.a)(n)),n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.handleMapChange=n.handleMapChange.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n.close=n.close.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none"})}},{key:"handleMapChange",value:function(e){this.setState(e)}},{key:"handleChange",value:function(e){switch(e.target.id){case"pac-input":this.setState({searchBox:e.target.value});break;case"customer_address":this.setState({addressBox:e.target.value});break;case"phone":this.setState({phone:e.target.value});break;case"address_switch":this.setState({setAsDefault:e.target.checked})}}},{key:"initAutocomplete",value:function(){var e,a,t,n,r,i=this.state.defaultLatLng,o=window.google,s=this.handleMapChange,l=i;function c(a,t,n){t.setPosition(n),t.setContent(a?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(e)}a=new window.google.maps.InfoWindow,(e=new o.maps.Map(this.googleMapRef.current,{center:l,zoom:13,mapTypeId:"roadmap"})).addListener("click",(function(e){a.close(),n.forEach((function(e){e.setMap(null)})),d(e.latLng),console.log(e.latLng.toString())})),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var r={lat:t.coords.latitude,lng:t.coords.longitude};n.forEach((function(e){e.setMap(null)})),n=[],void 0!==r.length?(d(r),console.log("navigation working")):c(!0,a,e.getCenter()),e.setCenter(r)}),(function(){c(!0,a,e.getCenter())})):c(!1,a,e.getCenter());var m=document.getElementById("pac-input"),u=new o.maps.places.SearchBox(m);function d(i){(new o.maps.Geocoder).geocode({location:i},(function(l,c){var m="No address results found. Please fill it in",u="block",d="";r="","OK"===c?l[0]&&(e.setZoom(17),t=new o.maps.Marker({position:i,map:e,title:l[0].formatted_address}),n.push(t),a.setPosition(i),a.setContent("Is this your location? <br/> click on map to change"),a.open(e,t),void 0===(r=l[0].formatted_address)?r="":(m="",u="none"),d=l[0].address_components[l[0].address_components.length-2].long_name+", "+l[0].address_components[l[0].address_components.length-1].long_name):m="Geocoder failed due to: "+c+". Please fill in the address field",s({addressBox:r,newLatLng:i,notifDisplay:u,notification:m,pickupStateCountry:d})}))}e.addListener("bounds_changed",(function(){u.setBounds(e.getBounds())})),n=[],u.addListener("places_changed",(function(){var a,t=u.getPlaces();if(0!==t.length){a=t[0].address_components[t[0].address_components.length-2].long_name+", "+t[0].address_components[t[0].address_components.length-1].long_name,n.forEach((function(e){e.setMap(null)})),n=[];var r=new o.maps.LatLngBounds;t.forEach((function(i){i.geometry?(s({addressBox:t[0].name+", "+t[0].vicinity,newLatLng:i.geometry.location.toString(),pickupStateCountry:a}),n.push(new o.maps.Marker({map:e,title:i.name,position:i.geometry.location})),i.geometry.viewport?r.union(i.geometry.viewport):r.extend(i.geometry.location),e.setCenter(i.geometry.location)):console.log("Returned place contains no geometry")})),e.fitBounds(r),e.setZoom(17)}}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.state,t=a.defaultAddressBox,n=a.addressBox,r=a.newLatLng,i=a.setAsDefault,o=a.pickupStateCountry,s=a.phone,l=Q({"(":'{"lat": ',")":"}"," ":' "lng": '},r),c=J(),m=c.id,u=c.user_type,d=c.findBy,p=c.token;if(t===n&&!1===i||""===r&&!1===i||""===n&&!1===i)this.setState({notifDisplay:"block",notification:"Please type in the address box, or zoom into the map to select a marker!"});else if(""===l||""===o)this.setState({notifDisplay:"block",notification:"Please use the search box or point on the map"});else{var h=this.props.sendFetchData,g=n,f=JSON.stringify({id:m,findBy:d,token:p,setAsDefault:i,pickupAddress:g,pickupLatLng:l,pickupStateCountry:o,phone:s});!0===i&&P(l);var E=new FormData;E.append("request","change_pickupAddress"),E.append("user_type",u),E.append("data",encodeURIComponent(f)),h(E)}}},{key:"componentDidMount",value:function(){if(void 0!==this.props.location.data){var e=this.props.location.data,a=e.address,t=e.latLng,n=e.phone,r=e.turnOn,i=G(a),o=JSON.parse(G(t));this.setState({defaultAddressBox:i,defaultLatLng:o,addressBox:i,phone:n,setAsDefault:r})}var s=document.getElementById("googleMapScript");if(document.contains(s))return this.initAutocomplete(),null;var l=document.createElement("script");l.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKHdFymwu91lTBTQBDgltrFaXPD6TxY2g&libraries=places",l.async=!0,l.setAttribute("id","googleMapScript"),window.document.body.appendChild(l),l.addEventListener("load",this.initAutocomplete)}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var a=this.props.userData,t=a.userloading,n=a.userData;0!==n.length&&("false"===n.error&&"done"===t?(Y(n.data[0].token),this.props.history.goBack()):("true"===n.logoutUser&&H(),this.setState({notifDisplay:"block",notification:n.errorMessage})))}}},{key:"render",value:function(){var e=this.state,a=e.searchBox,t=e.addressBox,n=e.notifDisplay,r=e.notification,i=e.phone,o=e.setAsDefault,s="",l=this.props.userData.userloading;return s="done"===l?"SAVE":"true"===l?m.a.createElement("div",{id:"loader"}):"SAVE",m.a.createElement(X.a,null,m.a.createElement("div",{className:"container_map"},m.a.createElement("div",{id:"map",ref:this.googleMapRef}),m.a.createElement(re.a,{onSubmit:this.handleSubmit,method:"post"},m.a.createElement(Ue.a,null,m.a.createElement(le.a,{id:"pac-input",value:a,onChange:this.handleChange,className:"controls",type:"text",placeholder:"Search"}),m.a.createElement("span",{id:"switch",title:"Set as default address"},m.a.createElement(w.i,{onChange:this.handleChange,id:"address_switch",className:"mx-1",variant:"3d",color:"primary",size:"sm",checked:o}))),m.a.createElement(Ue.a,null,m.a.createElement(le.a,{id:"phone",value:i,style:{maxWidth:"18em",border:"0.13em solid lightgrey",color:"black",fontSize:"1.2em"},type:"number",onChange:this.handleChange,placeholder:"Phone",required:!0})),m.a.createElement(Ue.a,null,m.a.createElement(le.a,{className:"account_address",id:"customer_address",value:t,onChange:this.handleChange,type:"textarea",placeholder:"Adress  ( use google map, then type in additional information here )",required:!0})),m.a.createElement("button",{type:"submit",className:"btn_save btn"},s))),m.a.createElement("div",{className:"notif",style:{display:n}},r,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," "))}}]),t}(m.a.PureComponent),Re=Object(C.d)(g.o,Object(p.b)((function(e){return{userData:e.userData}}),(function(e){return{sendFetchData:function(a){return e(ye(a))}}})))(Ie),Pe=!1,qe=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={personOf:"",email:"",phone:"",pickupAddress:"",pickupStateCountry:"",defaultLatLng:"",route:""},n.changeState=n.changeState.bind(Object(S.a)(n)),n.googleMapRef=m.a.createRef(),n.rightPanel=m.a.createRef(),n.initMap=n.initMap.bind(Object(S.a)(n)),n.addRoute=n.addRoute.bind(Object(S.a)(n)),n.handleLocationError=n.handleLocationError.bind(Object(S.a)(n)),n.processSVData=n.processSVData.bind(Object(S.a)(n)),n.changeRoute=n.changeRoute.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"changeState",value:function(e){this.setState(e)}},{key:"changeRoute",value:function(){Pe=!0,this.setState({defaultLatLng:JSON.parse(F())}),n=r=i=o="",this.initMap()}},{key:"componentDidMount",value:function(){if(void 0===this.props.location.data)this.props.history.push("/pickups/new");else{var e=this.props.location.data,a=e.personOf,t=e.email,n=e.phone,r=e.pickupAddress,i=e.pickupStateCountry,o=e.defaultLatLng,s=e.route;this.setState({personOf:a,email:t,phone:n,pickupAddress:r,pickupStateCountry:i,defaultLatLng:o,route:s});var l=document.getElementById("googleMapAgentScript");if(document.contains(l))return this.initMap(),null;var c=document.createElement("script");c.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKHdFymwu91lTBTQBDgltrFaXPD6TxY2g",c.async=!0,c.setAttribute("id","googleMapAgentScript"),window.document.body.appendChild(c),c.addEventListener("load",this.initMap)}}},{key:"initMap",value:function(){var e=this.state.defaultLatLng;o=window.google,void 0===s&&(s=new o.maps.DirectionsRenderer,l=new o.maps.DirectionsService);var a=this.addRoute,t=this.changeState,c=this.handleLocationError,m=this.processSVData,u=new o.maps.StreetViewService;r=new o.maps.StreetViewPanorama(document.getElementById("pano")),n=new o.maps.Map(this.googleMapRef.current,{center:e,zoom:16,streetViewControl:!1}),i=new o.maps.InfoWindow,navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){!1===Pe&&t({defaultLatLng:{lat:n.coords.latitude,lng:n.coords.longitude}}),void 0!==e&&a()}),(function(){a(),c(!0,i,n.getCenter())})):(a(),c(!1,i,n.getCenter())),n.addListener("click",(function(e){u.getPanorama({location:e.latLng,radius:50},m)}))}},{key:"addRoute",value:function(){var e=this.state,a=e.route,t=e.defaultLatLng;s.setMap(n),s.setPanel(this.rightPanel.current),l.route({origin:t,destination:a,travelMode:"DRIVING"},(function(e,a){"OK"===a?s.setDirections(e):window.alert("Directions request failed due to "+a)}))}},{key:"processSVData",value:function(e,a){var t;"OK"===a?(null!==e&&(t=new o.maps.Marker({position:e.location.latLng,map:n,title:e.location.description})),r.setPano(e.location.pano),r.setPov({heading:270,pitch:0}),r.setVisible(!0),t.addListener("click",(function(){var a=e.location.pano;r.setPano(a),r.setPov({heading:270,pitch:0}),r.setVisible(!0)}))):console.error("Street View data not found for this location.")}},{key:"handleLocationError",value:function(e,a,t){a.setPosition(t),a.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),a.open(n)}},{key:"render",value:function(){var e=this.state,a=e.personOf,t=e.email,n=e.phone,r=e.pickupAddress,i=e.pickupStateCountry;return m.a.createElement(X.a,null,m.a.createElement(ee.a,{xs:"12",md:"5",style:{marginBottom:"2em"}},m.a.createElement("div",{className:"agentDetailer name"},m.a.createElement("span",{role:"img","aria-label":"name"},"\ud83d\udc64"),a),m.a.createElement("div",{className:"agentDetailer"},m.a.createElement("span",{role:"img","aria-label":"email"},"\u2709")," ",m.a.createElement("a",{href:"mailto:"+t},t)),m.a.createElement("div",{className:"agentDetailer"},m.a.createElement("span",{role:"img","aria-label":"name"},"\u260e")," ",m.a.createElement("a",{href:"tel:"+n},n)),m.a.createElement("div",{className:"agentDetailer name"},m.a.createElement("span",{role:"img","aria-label":"address"},"\u2691"),r),m.a.createElement("p",null,i),m.a.createElement(ce.a,{color:"dark",className:"px-3",onClick:this.changeRoute},"Default Location")),m.a.createElement(ee.a,{xs:"12",md:"7"},m.a.createElement("div",{className:"container_agent"},m.a.createElement("div",{className:"map_container"},m.a.createElement("div",{id:"map",ref:this.googleMapRef})),m.a.createElement("input",{type:"checkbox",id:"one",name:"",value:""}),m.a.createElement("label",{htmlFor:"one",className:"one"},m.a.createElement("div",{type:"button",className:"route_button",name:"button"},"Route")),m.a.createElement("span",{className:"horizontal_rule"}),m.a.createElement("div",{className:"route"},m.a.createElement("div",{id:"right-panel",ref:this.rightPanel})),m.a.createElement("input",{type:"checkbox",id:"two",name:"",value:""}),m.a.createElement("label",{htmlFor:"two",className:"two"},m.a.createElement("div",{type:"button",name:"button",className:"street_button"},"Imagery")),m.a.createElement("div",{className:"street"},m.a.createElement("div",{id:"pano"})))))}}]),t}(m.a.PureComponent),Be=t(7),He=function(e){return{type:"FETCH_ORDER_DATA_SUCCESS",payload:e}},Je=function(e){return{type:"FETCH_ORDER_DATA_FAILURE",payload:e}},Ve=function(e){return function(){var a=Object(de.a)(ue.a.mark((function a(t){return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{t({type:"FETCH_ORDER_DATA_REQUEST"}),he.a.post("https://swiip.000webhostapp.com/order.php",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var a=e.data;t(He(a))})).catch((function(e){var a=e.message;t(Je(a))}))}catch(n){}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ye=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).payWithPaystack=n.payWithPaystack.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="https://js.paystack.co/v1/inline.js",e.async=!0,window.document.body.appendChild(e)}},{key:"payWithPaystack",value:function(){var e=this.props.data,a=e.email,t=e.lastName,n=e.firstName,r=e.total,i=e.saveOrder;window.PaystackPop.setup({key:"pk_test_6dfeae22bb437ba7de70c661408240369aaa8996",email:a,amount:100*r,firstname:n,lastname:t,onClose:function(){},callback:function(e){i(e.reference)}}).openIframe()}},{key:"render",value:function(){var e=this.props.data.button;return m.a.createElement(m.a.Fragment,null,m.a.createElement("button",{type:"submit",className:e[0],onClick:this.payWithPaystack,disabled:e[3]}," ",m.a.createElement("i",{className:e[1]})," \xa0 ",e[2]))}}]),t}(c.Component),We=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={modal:!1,quantity:"2",price:400,transportFee:100,total:500,email:"",firstName:"",lastName:"",fullName:"",phone:"",address:"",stateCountry:"",latLng:"",notification:"Please log out and log back in",notifDisplay:"none"},n.toggle=n.toggle.bind(Object(S.a)(n)),n.close=n.close.bind(Object(S.a)(n)),n.saveOrder=n.saveOrder.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"close",value:function(){this.setState({notifDisplay:"none"})}},{key:"genericState",value:function(e){var a=e.email,t=e.name,n=e.defaultAddress,r=e.pickupAddress,i=e.pickupLatLng,o=e.pickupStateCountry,s=e.state,l=e.country,c=e.phone,m=e.defaultLatLng,u=r,d=i,p=o;""===u&&(u=n,d=m,p=s+", "+l);var h=t.trim().split(/ (.+)/);void 0===h[1]&&(h[1]=h[0]),this.setState({email:a,phone:c,lastName:h[0],firstName:h[1],fullName:t,address:u,stateCountry:p,latLng:d})}},{key:"saveOrder",value:function(e){var a=this.state,t=a.quantity,n=a.total,r=a.email,i=a.phone,o=a.fullName,s=a.address,l=a.stateCountry,c=a.latLng,m=JSON.stringify(Object(Be.a)({personOf:o,phone:i,email:r,orderRef:e,defaultAddress:s,stateCountry:l,assignedAgent:"pending",status:"pending",amount:n.toString(),orderQty:t,pickupAddress:s,latLng:G(c)},J())),u=new FormData;u.append("request","new_order"),u.append("user_type",T()),u.append("data",encodeURIComponent(m)),(0,this.props.sendOrderData)(u)}},{key:"componentDidMount",value:function(){q()?this.setState({quantity:q(),price:200*q(),transportFee:50*q(),total:50*q()+200*q()}):B(2);var e=JSON.stringify(J()),a=this.props,t=a.sendFetchData,n=a.userData;if(0===n.userData.length){var r=new FormData;r.append("request","get_user"),r.append("user_type",T()),r.append("data",encodeURIComponent(e)),t(r)}else this.genericState(n.userData.data[0])}},{key:"componentDidUpdate",value:function(e){var a=this.props.userData,t=a.userloading,n=a.userData,r=this.props.orderData,i=r.orderloading,o=r.orderData;this.props!==e&&(0!==o.length&&("false"===o.error&&"done"===i?(Y(o.token),B(2),this.props.history.push("/order")):("true"===o.logoutUser&&H(),this.setState({notifDisplay:"block",notification:o.errorMessage}))),0!==n.length&&("false"===n.error&&"done"===t?this.genericState(n.data[0]):this.setState({notifDisplay:"block",notification:n.errorMessage})))}},{key:"render",value:function(){var e=this.state,a=e.quantity,t=e.price,n=e.email,r=e.transportFee,i=e.lastName,o=e.firstName,s=e.fullName,l=e.total,c=e.notification,u=e.phone,d=e.address,p=e.latLng,h=e.stateCountry,g=e.notifDisplay;return m.a.createElement(m.a.Fragment,null,m.a.createElement(X.a,null,m.a.createElement("div",{className:"order_content"},m.a.createElement("div",{className:"bag"},m.a.createElement("p",{className:"bag-head"},"Review order \xa0 - ",a," item")),m.a.createElement("div",{className:"summary_inline"},m.a.createElement("div",{className:"summary_type summary_h1"},"Order"),m.a.createElement("div",{className:"summary_detail"},m.a.createElement("span",{className:"summary_h1"},"Waste Bag Pickup"),m.a.createElement("p",{className:"blur"},"Bag size: 0.5m x 0.5m"),m.a.createElement("br",null),m.a.createElement("span",{className:"h2"},"Quantity:"),m.a.createElement("span",{className:"h2"}," \u2a2f",a))),m.a.createElement("span",{className:"hr"}),m.a.createElement("div",{className:"summary_inline"},m.a.createElement("div",{className:"summary_type summary_h1"},"Pickup ",m.a.createElement("span",{style:{color:"#20a8d8"}},"@")),m.a.createElement("div",{className:"summary_detail"},m.a.createElement("span",{className:"h2"},s),m.a.createElement("span",{className:"summary_text"},d),m.a.createElement("span",{className:"summary_text"},h),m.a.createElement("br",null),m.a.createElement("span",{className:"h2"},u),m.a.createElement("span",{className:"hr"}),m.a.createElement(O.Link,{to:{pathname:"/account/address",data:{address:d,latLng:p,phone:u,turnOn:!1}},key:p},m.a.createElement(ce.a,{className:"mr-1 change_address"},m.a.createElement("span",{className:"uppercase"},"change address"))))),m.a.createElement("div",{className:"bag-total"},m.a.createElement("div",{className:"subtotal"},m.a.createElement("p",{className:"small"},"Sub-total:"),m.a.createElement("p",{className:"small"},"\u20a6",t,".00")),m.a.createElement("div",{className:"delivery"},m.a.createElement("p",{className:"small"},"Pickup (Standard - 8 working days):"),m.a.createElement("p",{className:"small"},"\u20a6",r)),m.a.createElement("hr",null),m.a.createElement("div",{className:"total"},m.a.createElement("h3",null,"Total:"),m.a.createElement("h3",null,"\u20a6",l,".00")),m.a.createElement(Ye,{data:{email:n,lastName:i,firstName:o,total:l,saveOrder:this.saveOrder,button:["btn-go-checkout","fa fa-lock","PAY",!1]}}))),m.a.createElement("div",{className:"notif",style:{display:g}},c,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," ")))}}]),t}(c.Component),ze=Object(C.d)(g.o,Object(p.b)((function(e){return{userData:e.userData,orderData:e.orderData}}),(function(e){return{sendFetchData:function(a){return e(ye(a))},sendOrderData:function(a){return e(Ve(a))}}})))(We),Ge=function(e){return{type:"FETCH_COMMUNITY_DATA_SUCCESS",payload:e}},Qe=function(e){return{type:"FETCH_COMMUNITY_DATA_FAILURE",payload:e}},Ke=function(e){return function(){var a=Object(de.a)(ue.a.mark((function a(t){return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{t({type:"FETCH_COMMUNITY_DATA_REQUEST"}),he.a.post("https://swiip.000webhostapp.com/community.php",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a=e.data;t(Ge(a))})).catch((function(e){var a=e.message;t(Qe(a))}))}catch(n){}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ze=t(336),$e=t(75),Xe=t.n($e),ea=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={notification:"",notifDisplay:"none"},n.close=n.close.bind(Object(S.a)(n)),n.changeState=n.changeState.bind(Object(S.a)(n)),n.deleting=n.deleting.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){var e=this.props,a=e.sendCommData,t=e.communityData;if(0===t.communityData.length||t.communityData.data.length<2){var n=JSON.stringify(J());if(0===t.communityData.length){var r=new FormData;r.append("request","get_comm_list"),r.append("user_type",T()),r.append("data",encodeURIComponent(n)),a(r)}}}},{key:"componentDidUpdate",value:function(e){var a=this.props.communityData,t=a.error,n=a.communityData;this.props!==e&&(0!==n.length?"true"===n.error?("true"===n.logoutUser&&H(),this.changeState({notifDisplay:"block",notification:n.errorMessage})):"true"===n.submitted&&Y(n.token):"true"===t&&this.changeState({notifDisplay:"block",notification:"Please refresh or try again later"}))}},{key:"deleting",value:function(e){var a=this.props.sendCommData,t=JSON.stringify(Object(Be.a)(Object(Be.a)({},J()),{},{commID:e})),n=new FormData;n.append("request","del_comm"),n.append("user_type",T()),n.append("data",encodeURIComponent(t)),a(n)}},{key:"render",value:function(){var e,a,t=this,n=this.state,r=n.notifDisplay,i=n.notification,o=this.props.communityData,s=o.error,l=o.communityData;switch(T()){case"customer":a=function(e){return m.a.createElement(O.Link,{to:"/community/"+e},m.a.createElement("div",{className:"button"},m.a.createElement("button",{type:"button",name:"button",className:"btn_donate btn delete"},"donate")))};break;case"admin":a=function(e){return m.a.createElement("div",{className:"button"},m.a.createElement("button",{className:"delete btn",onClick:function(){return t.deleting(e)}},"Delete"),m.a.createElement(O.Link,{to:"/community/edit/"+e},m.a.createElement("button",{className:"edit btn"},"Edit")))};break;default:a=function(e){return""}}return e=0===l.length&&"true"!==s?m.a.createElement("div",{className:"loader_con"},m.a.createElement("div",{id:"big_loader"})):m.a.createElement(X.a,{style:{overflow:"hidden",padding:"0"}},l.data&&l.data.map((function(e){var t,n=e.details,r=Math.round(e.fundGotten/e.fundNeeded*100)+1;return t=r>60?"success":"red",n=(n=Xe()(JSON.parse(G(G(n))))).substring(0,n.indexOf("<",50))+"...",m.a.createElement(ee.a,{xs:"12",sm:"6",md:"4",key:e.id,style:{margin:"0 0 30px 0px",padding:"0.5em"}},m.a.createElement(te.a,{className:"card__item"},m.a.createElement(O.Link,{to:"/community/"+e.id},m.a.createElement("img",{src:e.image,alt:"",className:"card__image"}),m.a.createElement("div",{className:"card__content"},m.a.createElement("div",{className:"amount"}," ",m.a.createElement("span",null,"Fund needed:")," \u20a6",e.fundNeeded),m.a.createElement(Ze.a,{color:t,value:r,className:"mb-3"},r,"%"),m.a.createElement("div",{className:"card__title"}," ",e.location," "),m.a.createElement(Z,{domString:n,className:"card__text"}))),a(e.id)))}))),m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"community_container"},e,m.a.createElement("div",{className:"notif",style:{display:r}},i,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," ")))}}]),t}(c.Component),aa=Object(C.d)(Object(p.b)((function(e){return{communityData:e.communityData}}),(function(e){return{sendCommData:function(a){return e(Ke(a))}}})))(ea),ta=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={orderList:[],notification:"",notifDisplay:"none"},n.close=n.close.bind(Object(S.a)(n)),n.changeState=n.changeState.bind(Object(S.a)(n)),n.sendMeto=n.sendMeto.bind(Object(S.a)(n)),n.accept=n.accept.bind(Object(S.a)(n)),n.genericState=n.genericState.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"sendMeto",value:function(e){var a=e.personOf,t=e.email,n=e.phone,r=e.pickupAddress,i=e.pickupStateCountry,o=e.latLng,s=JSON.parse(F()),l=JSON.parse(G(o));this.props.history.push({pathname:"/pickups/map",data:{personOf:a,email:t,phone:n,pickupAddress:r,pickupStateCountry:i,defaultLatLng:s,route:l}})}},{key:"accept",value:function(e){var a=JSON.stringify(Object(Be.a)({orderID:e},J())),t=this.props.sendOrderData,n=new FormData;n.append("request","accept_order"),n.append("user_type",T()),n.append("data",encodeURIComponent(a)),t(n)}},{key:"genericState",value:function(e){var a=e.filter((function(e){return"pending"===e.status}));this.changeState({orderList:a})}},{key:"componentDidMount",value:function(){var e=JSON.stringify(J()),a=this.props,t=a.sendOrderData,n=a.orderData;if(0===n.orderData.length){var r=new FormData;r.append("request","get_order_history"),r.append("user_type",T()),r.append("data",encodeURIComponent(e)),t(r)}else void 0!==n.orderData.data&&this.genericState(n.orderData.data)}},{key:"componentDidUpdate",value:function(e){var a=this.props.orderData,t=a.orderData,n=a.error;this.props!==e&&(0!==t.length?"true"===t.error?this.changeState({notifDisplay:"block",notification:t.errorMessage}):this.genericState(t.data):"true"===n&&this.changeState({notifDisplay:"block",notification:"Please refresh or try again later"}))}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.notification,r=t.notifDisplay,i=t.orderList,o=this.props.orderData,s=o.error;return e=0===o.orderData.length&&"true"!==s?m.a.createElement("div",{className:"loader_con"},m.a.createElement("div",{id:"big_loader"})):m.a.createElement("table",{className:"table table-hover table-outline"},m.a.createElement("thead",{className:"thead-light"},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center",style:{width:"4em"}},"No."),m.a.createElement("th",null,"New Order"),m.a.createElement("th",{className:"",style:{width:"5em"}},"Action"))),m.a.createElement("tbody",null,i&&i.map((function(e,t){var n=e.personOf,r=e.email,i=e.phone,o=e.pickupAddress,s=e.pickupStateCountry,l=e.latLng;return m.a.createElement("tr",{key:t},m.a.createElement("td",{className:"text-center"},t+1,"."),m.a.createElement("td",null,m.a.createElement("div",{className:"tableAnchor",onClick:function(){return a.sendMeto({personOf:n,email:r,phone:i,pickupAddress:o,pickupStateCountry:s,latLng:l})}},m.a.createElement("div",{className:"table_address"},o),m.a.createElement("span",{className:"table_name"},n)),m.a.createElement("div",{className:"table_small_older"},m.a.createElement("a",{href:"mailto:"+r,className:"table_email"},r),m.a.createElement("a",{href:"tel:"+i,className:"table_number"},i))),m.a.createElement("td",null,m.a.createElement(ce.a,{className:"pick_button",onClick:function(){return a.accept(e.id)}},"Pick")))})))),m.a.createElement(X.a,null,e,m.a.createElement("div",{className:"notif",style:{display:r}},n,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," "))}}]),t}(c.Component),na=Object(C.d)(g.o,Object(p.b)((function(e){return{orderData:e.orderData}}),(function(e){return{sendOrderData:function(a){return e(Ve(a))}}})))(ta),ra=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={orderList:[],notification:"",notifDisplay:"none"},n.close=n.close.bind(Object(S.a)(n)),n.changeState=n.changeState.bind(Object(S.a)(n)),n.sendMeto=n.sendMeto.bind(Object(S.a)(n)),n.genericState=n.genericState.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"sendMeto",value:function(e){var a=e.personOf,t=e.email,n=e.phone,r=e.pickupAddress,i=e.pickupStateCountry,o=e.latLng,s=JSON.parse(F()),l=JSON.parse(G(o));this.props.history.push({pathname:"/pickups/map",data:{personOf:a,email:t,phone:n,pickupAddress:r,pickupStateCountry:i,defaultLatLng:s,route:l}})}},{key:"genericState",value:function(e){var a=e.filter((function(e){return"accepted"===e.status}));this.changeState({orderList:a})}},{key:"componentDidMount",value:function(){var e=JSON.stringify(J()),a=this.props,t=a.sendOrderData,n=a.orderData;if(0===n.orderData.length){var r=new FormData;r.append("request","get_order_history"),r.append("user_type",T()),r.append("data",encodeURIComponent(e)),t(r)}else void 0!==n.orderData.data&&this.genericState(n.orderData.data)}},{key:"componentDidUpdate",value:function(e){var a=this.props.orderData,t=a.orderData,n=a.error;this.props!==e&&(0!==t.length?"true"===t.error?this.changeState({notifDisplay:"block",notification:t.errorMessage}):this.genericState(t.data):"true"===n&&this.changeState({notifDisplay:"block",notification:"Please refresh or try again later"}))}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.notification,r=t.notifDisplay,i=t.orderList,o=this.props.orderData,s=o.error;return e=0===o.orderData.length&&"true"!==s?m.a.createElement("div",{className:"loader_con"},m.a.createElement("div",{id:"big_loader"})):m.a.createElement("table",{className:"table table-hover table-outline"},m.a.createElement("thead",{className:"thead-light"},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center",style:{width:"4em"}},"No."),m.a.createElement("th",null,"Address"),m.a.createElement("th",{className:"",style:{width:"5em"}},"Date"))),m.a.createElement("tbody",null,i&&i.map((function(e,t){var n=e.personOf,r=e.email,i=e.orderDate,o=e.phone,s=e.pickupAddress,l=e.pickupStateCountry,c=e.latLng,u=K(i),d=u.day,p=u.month,h=u.year;return m.a.createElement("tr",{key:t},m.a.createElement("td",{className:"text-center"},t+1,"."),m.a.createElement("td",null,m.a.createElement("div",{id:"1",className:"tableAnchor",onClick:function(){return a.sendMeto({personOf:n,email:r,phone:o,pickupAddress:s,pickupStateCountry:l,latLng:c})}},m.a.createElement("div",{className:"table_address"},s),m.a.createElement("span",{className:"table_name"},n)),m.a.createElement("div",{className:"table_small_older"},m.a.createElement("a",{href:"mailto:"+r,className:"table_email"},r),m.a.createElement("a",{href:"tel:"+o,className:"table_number"},o))),m.a.createElement("td",null,m.a.createElement("span",{className:"table_date"},p+", "+d+" "+h),m.a.createElement("div",{className:"accepted"},"Pickup")))})))),m.a.createElement(X.a,null,e,m.a.createElement("div",{className:"notif",style:{display:r}},n,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," "))}}]),t}(c.Component),ia=Object(C.d)(g.o,Object(p.b)((function(e){return{orderData:e.orderData}}),(function(e){return{sendOrderData:function(a){return e(Ve(a))}}})))(ra),oa=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={notification:"",notifDisplay:"none"},n.close=n.close.bind(Object(S.a)(n)),n.changeState=n.changeState.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){var e=JSON.stringify(J()),a=this.props,t=a.sendOrderData;if(0===a.orderData.orderData.length){var n=new FormData;n.append("request","get_order_history"),n.append("user_type",T()),n.append("data",encodeURIComponent(e)),t(n)}}},{key:"componentDidUpdate",value:function(e){var a=this.props.orderData,t=a.orderData,n=a.error;this.props!==e&&(0!==t.length?"true"===t.error&&this.changeState({notifDisplay:"block",notification:t.errorMessage}):"true"===n&&this.changeState({notifDisplay:"block",notification:"Please refresh or try again later"}))}},{key:"render",value:function(){var e,a=this.state,t=a.notifDisplay,n=a.notification,r=this.props.orderData,i=r.error,o=r.orderData;return e=0===o.length&&"true"!==i?m.a.createElement("div",{className:"loader_con"},m.a.createElement("div",{id:"big_loader"})):m.a.createElement("div",{className:"timeline"},o.data&&o.data.sort((function(e,a){return e.iorderDate-a.orderDate})).map((function(e){var a=K(1*e.orderDate),t=e.status;return t="pending"===t?m.a.createElement("div",{className:"update"},m.a.createElement("span",{className:"pending"},"PENDING")):"accepted"===t?m.a.createElement("div",{className:"update"},m.a.createElement("span",{className:"accepted"},"ACCEPTED")):m.a.createElement("div",{className:"update"},m.a.createElement("span",{className:"confirmed",role:"img","aria-label":"confirmed"},"SUCCESSFUL")),m.a.createElement("div",{className:"history_box",key:e.id},m.a.createElement("div",{className:"history_date"},m.a.createElement("span",{className:"hour"},a.hour,":",a.minute," ",a.ampm," "),m.a.createElement("span",{className:"month"},a.day," ",a.month," ",a.shortYear)),m.a.createElement("div",{className:"activity"},m.a.createElement("div",{className:"title"},"Ordered for waste disposal"),m.a.createElement("div",{className:"description"},"Quantity: ",e.orderQty," bag(s)."),t))}))),m.a.createElement(m.a.Fragment,null,m.a.createElement(X.a,null,m.a.createElement("div",{className:"history"},e,m.a.createElement("div",{className:"notif",style:{display:t}},n,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," "))))}}]),t}(c.Component),sa=Object(C.d)(g.o,Object(p.b)((function(e){return{orderData:e.orderData}}),(function(e){return{sendOrderData:function(a){return e(Ve(a))}}})))(oa),la=t(343),ca=t(337),ma=t(338),ua=t(339),da=t(340),pa=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={file:[],name:"",gender:"",birthday:"",latLng:"",phone:"",email:"",oldPassword:"",newPassword:"",address:"",imagePreviewUrl:"",notification:"",notifDisplay:"none",modal:!1},n.close=n.close.bind(Object(S.a)(n)),n.handleFileChange=n.handleFileChange.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.fileRef=m.a.createRef(),n.changeState=n.changeState.bind(Object(S.a)(n)),n.commonState=n.commonState.bind(Object(S.a)(n)),n.toggle=n.toggle.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal,oldPassword:"",newPassword:""})}},{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"commonState",value:function(e){var a=e.name,t=e.gender,n=e.birthday,r=e.phone,i=e.email,o=e.defaultAddress,s=e.defaultLatLng,l=e.image;this.changeState({name:a.trim(),demoName:a.trim(),gender:t,demoGender:t,birthday:n,demoBirthday:n,phone:r,latLng:s,email:i,address:o.trim(),imagePreviewUrl:l.trim(),prevImage:l.trim(),modal:!1})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"handleFileChange",value:function(e){var a=this,t=e.target.files[0],n=new FileReader;console.log(t),n.onloadend=function(){a.changeState({file:t,imagePreviewUrl:n.result})},n.readAsDataURL(t)}},{key:"handleChange",value:function(e){("oldPassword"===e.target.id||"newPassword"===e.target.id)&&/[^A-Za-z\d@_*#$]+/.test(e.target.value)?this.changeState({notifDisplay:"block",notification:"Only Alphanumeric and @_*#$ symbols are allowed"}):this.changeState(Object(b.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=this.props.sendFetchData,t=this.state,n=t.name,r=t.demoName,i=t.gender,o=t.demoGender,s=t.birthday,l=t.demoBirthday,c=t.file,m=t.oldPassword,u=t.newPassword;if(void 0===n.trim().split(/ (.+)/)[1])this.changeState({notifDisplay:"block",notification:"Please add your Surname - Space - Name"});else if(r===n&&l===s&&o===i&&""===m&&0===c.length)this.changeState({notifDisplay:"block",notification:"Please make some changes to submit"});else if(""!==m&&(m.length<8||u.length<8))this.changeState({notifDisplay:"block",notification:"Password must be (8) characters or more"});else if(""!==m&&m===u)this.changeState({notifDisplay:"block",notification:"Sorry you entered an old password"});else{var d=JSON.stringify(Object(Be.a)({name:n,gender:i,birthday:s,oldPassword:m,newPassword:u},J())),p=new FormData;p.append("request","edit_account"),p.append("user_type",T()),p.append("file",c),p.append("data",encodeURIComponent(d)),a(p)}}},{key:"componentDidMount",value:function(){var e=JSON.stringify(Object(Be.a)({},J())),a=this.props,t=a.sendFetchData,n=a.userData;if(0===n.userData.length){var r=new FormData;r.append("request","get_user"),r.append("user_type",T()),r.append("data",encodeURIComponent(e)),t(r)}else this.commonState(n.userData.data[0])}},{key:"componentDidUpdate",value:function(e){var a=this.props.userData,t=a.errorMessage,n=a.error,r=a.userloading,i=a.userData;this.props!==e&&(0!==i.length?"false"===i.error&&"done"===r?(this.commonState(i.data[0]),"true"===i.submitted&&(i.data[0].name!==M()&&R(i.data[0].name),Y(i.data[0].token),i.data[0].image!==this.state.prevImage&&I(i.data[0].image),this.changeState({notifDisplay:"block",notification:i.message}))):"true"===i.error&&("true"===i.logoutUser&&H(),void 0!==i.data[0].token&&Y(i.data[0].token),this.changeState({notifDisplay:"block",notification:i.errorMessage})):"true"===n&&this.changeState({notifDisplay:"block",notification:t}))}},{key:"render",value:function(){var e,a="SAVE",t="SAVE",n=this.state,r=n.imagePreviewUrl,i=n.name,o=n.address,s=n.phone,l=n.email,c=n.gender,u=n.birthday,d=n.notifDisplay,p=n.latLng,h=n.notification,g=n.oldPassword,f=n.newPassword,E=this.props.userData,y=E.userloading,b=E.userData,v=E.error;return"done"===y?(a="SAVE",t="SAVE"):"true"===y&&""===g?a=m.a.createElement("div",{id:"loader"}):t=m.a.createElement("div",{id:"loader"}),e=0===b.length&&"true"!==v?m.a.createElement("div",{className:"loader_con"},m.a.createElement("div",{id:"big_loader"})):m.a.createElement("div",{className:"order_content"},m.a.createElement("form",{encType:"multipart/form-data",method:"post",onSubmit:this.handleSubmit},m.a.createElement("div",{style:{position:"relative",width:"18em",margin:"0em auto 2em auto"},className:"community_container"},m.a.createElement("label",{htmlFor:"file",className:"file_label",style:{height:"20em",border:"2px solid #20a8d8",borderRadius:"20%"}},m.a.createElement("img",{src:r,alt:"",style:{height:"20em"}}),m.a.createElement("div",{className:"bar_upload"},m.a.createElement("span",{className:"upload_icon straight",style:{width:"3em"}}),m.a.createElement("span",{className:"upload_icon slanting",style:{width:"3em"}}),m.a.createElement("span",{className:"upload_icon round"}))),m.a.createElement("input",{type:"file",id:"file",name:"file",className:"file",accept:"image/*",onChange:this.handleFileChange,ref:this.fileRef})),m.a.createElement("span",{className:"bag-head"}),m.a.createElement("div",{className:"summary_inline"},m.a.createElement("div",{className:"account_icon"},m.a.createElement("span",{role:"img","aria-label":"name"},"\ud83d\udcc7")),m.a.createElement("div",{className:"account_detail"},m.a.createElement("span",{className:"h2"},"Name"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(le.a,{type:"text",id:"name",style:{color:"black"},value:i,onChange:this.handleChange,placeholder:"Surname - Space - Name",autoComplete:"name",required:!0}))),m.a.createElement("span",{className:"hr"}),m.a.createElement("div",{className:"summary_inline"},m.a.createElement("div",{className:"account_icon"},m.a.createElement("span",{role:"img","aria-label":"address"},"\u2691")),m.a.createElement("div",{className:"account_detail"},m.a.createElement("span",{className:"h2"},"Address"),m.a.createElement("span",{className:"summary_text"},o),m.a.createElement("br",null),m.a.createElement("span",{className:"h2"},m.a.createElement("span",{role:"img","aria-label":"name"},"\u260e")," ",s),m.a.createElement("span",{className:"hr"}),m.a.createElement(O.Link,{to:{pathname:"/account/address",data:{address:o,latLng:p,phone:s,turnOn:!0}},key:p},m.a.createElement(ce.a,{className:"mr-1 change_address"},"CHANGE")))),m.a.createElement("span",{className:"hr"}),m.a.createElement("div",{className:"summary_inline"},m.a.createElement("div",{className:"account_icon"},m.a.createElement("span",{role:"img","aria-label":"email"},"\u2709")),m.a.createElement("div",{className:"account_detail"},m.a.createElement("span",{className:"h2"},"Email"),m.a.createElement("span",{className:"summary_text"},l),m.a.createElement("span",{className:"hr"}),m.a.createElement(ce.a,{onClick:this.toggle,className:"mr-1"},"CHANGE PASSWORD"))),m.a.createElement("span",{className:"hr"}),m.a.createElement("div",{className:"summary_inline"},m.a.createElement("div",{className:"account_icon"},m.a.createElement("span",{role:"img","aria-label":"gender"},"\u26a4")),m.a.createElement("div",{className:"account_detail"},m.a.createElement("div",{className:"personal_wrapper"},m.a.createElement("div",{className:"personal_one"},m.a.createElement("span",{className:"h2"},"Gender"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(le.a,{type:"select",id:"gender",value:c,onChange:this.handleChange,required:!0},m.a.createElement("option",null,"Male"),m.a.createElement("option",null,"Female"))),m.a.createElement("span",{style:{width:"5%"}}),m.a.createElement("div",{className:"personal_two"},m.a.createElement("span",{className:"h2"},"Birthday"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(le.a,{type:"date",id:"birthday",value:u,onChange:this.handleChange,max:"2030-12-30",min:"1930-01-01",placeholder:"yyyy-mm-dd",required:!0}))))),m.a.createElement("button",{type:"submit",className:"btn-go-checkout"},a)),m.a.createElement(la.a,{isOpen:this.state.modal,toggle:this.toggle,className:"modal-primary "+this.props.className},m.a.createElement(ca.a,{toggle:this.toggle},"Change Password"),m.a.createElement("form",{method:"post",onSubmit:this.handleSubmit},m.a.createElement(ma.a,null,m.a.createElement(Ue.a,null,m.a.createElement(ua.a,{htmlFor:"oldPassword"},"Old Password"),m.a.createElement(le.a,{type:"text",id:"oldPassword",value:g,onChange:this.handleChange,placeholder:"Enter your old password",required:!0,autoComplete:"off"})),m.a.createElement(Ue.a,null,m.a.createElement(ua.a,{htmlFor:"newPassword"},"New Password"),m.a.createElement(le.a,{type:"text",id:"newPassword",value:f,onChange:this.handleChange,placeholder:"Enter your new password",required:!0,autoComplete:"off"}))),m.a.createElement(da.a,null,m.a.createElement(ce.a,{color:"primary",type:"submit",style:{width:"100%"}},t))))),m.a.createElement(m.a.Fragment,null,m.a.createElement(X.a,null,e,m.a.createElement("div",{className:"notif",style:{display:d}},h,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," ")))}}]),t}(c.Component),ha=Object(C.d)(g.o,Object(p.b)((function(e){return{userData:e.userData}}),(function(e){return{sendFetchData:function(a){return e(ye(a))}}})))(pa),ga=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(N.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{style:{marginTop:"2em",textAlign:"center"}},m.a.createElement("div",{style:{marginBottom:"5em",width:"100%"}},m.a.createElement(ce.a,{type:"button",color:"dark"},m.a.createElement("a",{href:"mailto:help@swiip.000webhostapp.com",style:{color:"white"}},"Contact Us"))),m.a.createElement("h3",null,"About"),m.a.createElement("p",null,"The purpose of this application is to improve the condition and quality of living in a country like Nigeria."),m.a.createElement("p",null,"My soul aim is to reduce the amount of litered waste in the country by JOIN effort and DONATION through crowd funding to enhance the state of our road and COMMUNITY. "),m.a.createElement("p",null,"Feel free to SUPPORT your COMMUNITY and you can also contact us if you want your community to be INCLUDED in our list (terms and condition applies)"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("h3",null,"Policy"),m.a.createElement("p",null,"This application has an OPEN SOURCE LISENCE and so therefore open to copy, modification and so thereof..."),m.a.createElement("p",null,"This project also aim to be a boiler plate for beginners and those who needs an admin panel with some logic, i.e redux,router, protected route etc included."),m.a.createElement("p",null,"I also feel anyone hoping to build something around this idea for there state or country can take one or two ideas from this application"),m.a.createElement("p",null,"This is the first version written using procedural PHP, MySQL, Javascript, CSS & HTML. This uses classes rather than the new stateless function."),m.a.createElement("p",null,"For the PHP source code, you can check my Git repo @johnerry"))}}]),t}(c.Component),fa=function(e){return{type:"FETCH_ADMIN_DATA_SUCCESS",payload:e}},Ea=function(e){return{type:"FETCH_ADMIN_DATA_FAILURE",payload:e}},ya=function(e){return function(){var a=Object(de.a)(ue.a.mark((function a(t){return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{t({type:"FETCH_ADMIN_DATA_REQUEST"}),he.a.post("https://swiip.000webhostapp.com/account.php",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var a=e.data;t(fa(a))})).catch((function(e){var a=e.message;t(Ea(a))}))}catch(n){}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ba=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={id:"",image:"",name:"",user:"",state:"",propStatus:"",propEmail:"",propPhone:"",newStatus:"",newEmail:"",newPhone:"",notifDisplay:"none",notification:""},n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.close=n.close.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){var a;e.preventDefault();var t=this.props.sendAdminData,n=this.state,r=n.id,i=n.propEmail,o=n.name,s=n.newEmail,l=n.newPhone,c=n.newStatus;a=i.trim()!==s.trim()?"phone":"email";var m=JSON.stringify(Object(Be.a)({accountID:r,accountName:o,sendTo:a,email:s,phone:l,status:c},J())),u=new FormData;u.append("request","admin_edit_account"),u.append("user_type",T()),u.append("data",encodeURIComponent(m)),t(u)}},{key:"componentDidMount",value:function(){if(void 0===this.props.location.data)this.props.history.push("/customer/");else{var e=this.props.location.data,a=e.id,t=e.state,n=e.phone,r=e.name,i=e.user_type,o=e.status,s=e.email,l=e.image;this.setState({id:a,image:l,name:r,user_type:i,state:t,propStatus:o,propEmail:s,propPhone:n,newStatus:o,newEmail:s,newPhone:n})}}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var a=this.props.adminData,t=a.loading,n=a.adminData;0!==n.length&&("false"===n.error&&"done"===t&&"true"===n.submitted?(Y(n.token),this.props.history.goBack()):("true"===n.logoutUser&&H(),this.setState({notifDisplay:"block",notification:n.errorMessage})))}}},{key:"render",value:function(){var e="SAVE",a=this.props.adminData.loading;"done"===a?e="SAVE":"true"===a&&(e=m.a.createElement("div",{id:"loader"}));var t=this.state,n=t.name,r=t.image,i=t.user_type,o=t.state,s=t.newEmail,l=t.newPhone,c=t.newStatus,u=t.notifDisplay,d=t.notification;return m.a.createElement("div",{className:"order_content"},m.a.createElement("div",{style:{position:"relative",width:"10em",margin:"0em auto 2em auto"},className:"community_container"},m.a.createElement("img",{src:r,alt:"",style:{width:"10em",borderRadius:"50%",border:"2px solid  #20a8d8"}})),m.a.createElement("span",{className:"bag-head"}),m.a.createElement("br",null),m.a.createElement("form",{encType:"multipart/form-data",method:"post",onSubmit:this.handleSubmit},m.a.createElement(X.a,null,m.a.createElement(ee.a,{sm:"6"},m.a.createElement("h3",null,"Name"),m.a.createElement("h5",null,m.a.createElement("span",{role:"img","aria-label":"name"},"\ud83d\udc64")," \xa0 ",n)),m.a.createElement(ee.a,{sm:"6"},m.a.createElement("h3",null,"User"),m.a.createElement("h5",null,m.a.createElement("span",{role:"img","aria-label":"name"},"\ud83d\udc64")," \xa0 ",i))),m.a.createElement("br",null),m.a.createElement(X.a,null,m.a.createElement(ee.a,{sm:"6"},m.a.createElement("h3",null,"Status"),m.a.createElement(le.a,{type:"select",id:"newStatus",onChange:this.handleChange,value:c},m.a.createElement("option",null,"active"),m.a.createElement("option",null,"pending"),m.a.createElement("option",null,"inactive"))),m.a.createElement(ee.a,{sm:"6"},m.a.createElement("h3",null,"Email"),m.a.createElement(le.a,{type:"text",id:"newEmail",onChange:this.handleChange,value:s,style:{border:"1px solid lightgrey"},required:!0}))),m.a.createElement("br",null),m.a.createElement(X.a,null,m.a.createElement(ee.a,{sm:"6"},m.a.createElement("h3",null,"State"),m.a.createElement("h5",null,m.a.createElement("span",{role:"img","aria-label":"name"},"\ud83d\udc64")," \xa0 ",o)),m.a.createElement(ee.a,{sm:"6"},m.a.createElement("h3",null,"Phone"),m.a.createElement(le.a,{type:"number",id:"newPhone",onChange:this.handleChange,value:l,style:{border:"1px solid lightgrey"},required:!0}))),m.a.createElement("br",null),m.a.createElement("button",{type:"submit",className:"btn-go-checkout"},e)),m.a.createElement("div",{className:"notif",style:{display:u}},d,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," "))}}]),t}(c.Component),va=Object(C.d)(g.o,Object(p.b)((function(e){return{adminData:e.adminData}}),(function(e){return{sendAdminData:function(a){return e(ya(a))}}})))(ba),Na=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={emailFinder:"",adminList:[],adminListToDisplay:[],notification:"",notifDisplay:"none"},n.close=n.close.bind(Object(S.a)(n)),n.changeState=n.changeState.bind(Object(S.a)(n)),n.genericState=n.genericState.bind(Object(S.a)(n)),n.sendMeto=n.sendMeto.bind(Object(S.a)(n)),n.genericFind=n.genericFind.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"genericFind",value:function(e){var a=this.state.adminList.filter((function(a){return 0===a.email.toLowerCase().indexOf(e.target.value.toLowerCase())}));this.changeState({adminListToDisplay:a,emailFinder:e.target.value})}},{key:"genericState",value:function(e){var a=e.filter((function(e){return"agent"===e.user_type}));this.changeState({adminListToDisplay:a,adminList:a})}},{key:"sendMeto",value:function(e){var a=e.id,t=e.state,n=e.phone,r=e.name,i=e.user_type,o=e.status,s=e.email,l=e.image;this.props.history.push({pathname:"/account/edit",data:{id:a,state:t,phone:n,name:r,user_type:i,status:o,email:s,image:l}})}},{key:"componentDidMount",value:function(){var e=JSON.stringify(Object(Be.a)({accountID:"all"},J())),a=this.props,t=a.sendAdminData,n=a.adminData,r=new FormData;r.append("request","get_user"),r.append("user_type",T()),r.append("data",encodeURIComponent(e)),0===n.adminData.length?t(r):void 0!==n.adminData.data&&"false"===n.adminData.error&&this.genericState(n.adminData.data)}},{key:"componentDidUpdate",value:function(e){var a=this.props.adminData,t=a.adminData,n=a.error;this.props!==e&&(0!==t.length?"true"===t.error?("true"===t.logoutUser&&H(),this.changeState({notifDisplay:"block",notification:t.errorMessage})):this.genericState(t.data):"true"===n&&this.changeState({notifDisplay:"block",notification:"Please refresh or try again later"}))}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.notification,r=t.notifDisplay,i=t.adminListToDisplay,o=t.emailFinder,s=this.props.adminData,l=s.error;return e=0===s.adminData.length&&"true"!==l?m.a.createElement("div",{className:"loader_con"},m.a.createElement("div",{id:"big_loader"})):m.a.createElement("table",{className:"table table-striped table-hover table-outline"},m.a.createElement("thead",{className:""},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center",style:{width:"3em"}},m.a.createElement("span",{role:"img","aria-label":"people"},"\ud83d\udc65")),m.a.createElement("th",null,"User"),m.a.createElement("th",{className:""},"Role"),m.a.createElement("th",{className:"",style:{width:"3em"}},"Status"))),m.a.createElement("tbody",null,i&&i.map((function(e,t){var n="confirmed",r=e.id,i=e.state,o=e.phone,s=e.name,l=e.regDate,c=e.user_type,u=e.status,d=e.email,p=e.image,h=K(l),g=h.day,f=h.month,E=h.year;return"pending"===u&&(n="accepted"),m.a.createElement("tr",{key:t+1},m.a.createElement("td",{className:"text-center"},m.a.createElement("div",{className:"c-avatar"},m.a.createElement("img",{className:"table_image",src:p,alt:"user_image"}))),m.a.createElement("td",null,m.a.createElement("div",{onClick:function(){return a.sendMeto({id:r,state:i,phone:o,name:s,user_type:c,status:u,email:d,image:p})}},m.a.createElement("div",null,s),m.a.createElement("div",{className:"small text-muted"},d.substring(0,15)+"..."),m.a.createElement("div",{className:"small text-muted"},"Reg: ",f+" "+g+" "+E))),m.a.createElement("td",null,m.a.createElement("span",null,c)),m.a.createElement("td",null,m.a.createElement("span",{className:n},u)))})))),m.a.createElement(X.a,null,m.a.createElement(ie.a,{className:"input-prepend justify-content-end",style:{marginBottom:"2em"}},m.a.createElement(le.a,{className:"people_search",type:"text",value:o,onChange:this.genericFind,placeholder:"Who are you looking for?"}),m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("i",{className:"fa fa-search"})))),e,m.a.createElement("div",{className:"notif",style:{display:r}},n,m.a.createElement("span",{role:"img","aria-label":"notification",onClick:this.close},"\u274e")," "))}}]),t}(c.Component),Sa=Object(C.d)(g.o,Object(p.b)((function(e){return{adminData:e.adminData}}),(function(e){return{sendAdminData:function(a){return e(ya(a))}}})))(Na),Da=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={emailFinder:"",adminList:[],adminListToDisplay:[],notification:"",notifDisplay:"none"},n.close=n.close.bind(Object(S.a)(n)),n.changeState=n.changeState.bind(Object(S.a)(n)),n.genericState=n.genericState.bind(Object(S.a)(n)),n.sendMeto=n.sendMeto.bind(Object(S.a)(n)),n.genericFind=n.genericFind.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"genericFind",value:function(e){var a=this.state.adminList.filter((function(a){return 0===a.email.toLowerCase().indexOf(e.target.value.toLowerCase())}));this.changeState({adminListToDisplay:a,emailFinder:e.target.value})}},{key:"genericState",value:function(e){var a=e.filter((function(e){return"customer"===e.user_type}));this.changeState({adminListToDisplay:a,adminList:a})}},{key:"sendMeto",value:function(e){var a=e.id,t=e.state,n=e.phone,r=e.name,i=e.user_type,o=e.status,s=e.email,l=e.image;this.props.history.push({pathname:"/account/edit",data:{id:a,state:t,phone:n,name:r,user_type:i,status:o,email:s,image:l}})}},{key:"componentDidMount",value:function(){var e=JSON.stringify(Object(Be.a)({accountID:"all"},J())),a=this.props,t=a.sendAdminData,n=a.adminData,r=new FormData;r.append("request","get_user"),r.append("user_type",T()),r.append("data",encodeURIComponent(e)),0===n.adminData.length?t(r):void 0!==n.adminData.data&&"false"===n.adminData.error&&this.genericState(n.adminData.data)}},{key:"componentDidUpdate",value:function(e){var a=this.props.adminData,t=a.adminData,n=a.error;this.props!==e&&(0!==t.length?"true"===t.error?this.changeState({notifDisplay:"block",notification:t.errorMessage}):this.genericState(t.data):"true"===n&&this.changeState({notifDisplay:"block",notification:"Please refresh or try again later"}))}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.notification,r=t.notifDisplay,i=t.adminListToDisplay,o=t.emailFinder,s=this.props.adminData,l=s.error;return e=0===s.adminData.length&&"true"!==l?m.a.createElement("div",{className:"loader_con"},m.a.createElement("div",{id:"big_loader"})):m.a.createElement("table",{className:"table table-striped table-hover table-outline"},m.a.createElement("thead",{className:""},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center",style:{width:"3em"}},m.a.createElement("span",{role:"img","aria-label":"people"},"\ud83d\udc65")),m.a.createElement("th",null,"User"),m.a.createElement("th",{className:""},"Role"),m.a.createElement("th",{className:"",style:{width:"3em"}},"Status"))),m.a.createElement("tbody",null,i&&i.map((function(e,t){var n=e.id,r=e.state,i=e.phone,o=e.name,s=e.regDate,l=e.user_type,c=e.status,u=e.email,d=e.image,p=K(s),h=p.day,g=p.month,f=p.year;return m.a.createElement("tr",{key:t+1},m.a.createElement("td",{className:"text-center"},m.a.createElement("div",{className:"c-avatar"},m.a.createElement("img",{className:"table_image",src:d,alt:"user_image"}))),m.a.createElement("td",null,m.a.createElement("div",{onClick:function(){return a.sendMeto({id:n,state:r,phone:i,name:o,user_type:l,status:c,email:u,image:d})}},m.a.createElement("div",null,o),m.a.createElement("div",{className:"small text-muted"},u.substring(0,15)+"..."),m.a.createElement("div",{className:"small text-muted"},"Reg: ",g+" "+h+" "+f))),m.a.createElement("td",null,m.a.createElement("span",null,l)),m.a.createElement("td",null,m.a.createElement("span",{className:"confirmed"},c)))})))),m.a.createElement(X.a,null,m.a.createElement(ie.a,{className:"input-prepend justify-content-end",style:{marginBottom:"2em"}},m.a.createElement(le.a,{className:"people_search",type:"text",value:o,onChange:this.genericFind,placeholder:"Who are you looking for?"}),m.a.createElement(oe.a,{addonType:"prepend"},m.a.createElement(se.a,null,m.a.createElement("i",{className:"fa fa-search"})))),e,m.a.createElement("div",{className:"notif",style:{display:r}},n,m.a.createElement("span",{role:"img","aria-label":"notification",onClick:this.close},"\u274e")," "))}}]),t}(c.Component),ka=Object(C.d)(g.o,Object(p.b)((function(e){return{adminData:e.adminData}}),(function(e){return{sendAdminData:function(a){return e(ya(a))}}})))(Da),Oa=t(51),wa=t(161),Ca=(t(303),function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={file:[],imagePreviewUrl:"",location:"",amount:"",submitted:"false",notification:"",notifDisplay:"none",editorState:Oa.EditorState.createEmpty()},n.close=n.close.bind(Object(S.a)(n)),n.onEditorStateChange=n.onEditorStateChange.bind(Object(S.a)(n)),n.handleFileChange=n.handleFileChange.bind(Object(S.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.cleanSlate=n.cleanSlate.bind(Object(S.a)(n)),n.updateState=n.updateState.bind(Object(S.a)(n)),n.changeState=n.changeState.bind(Object(S.a)(n)),n.fileRef=m.a.createRef(),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none"})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"updateState",value:function(e,a){var t=e.communityData.data.find((function(e){return e.id===a})),n=Object(Oa.convertFromRaw)(JSON.parse(G(t.details)));this.changeState({file:[],imagePreviewUrl:t.image,location:t.location,amount:1*t.fundNeeded,editorState:Oa.EditorState.createWithContent(n)})}},{key:"cleanSlate",value:function(){this.changeState({file:[],imagePreviewUrl:"",location:"",amount:"",details:{},submitted:"true",notification:"Submitted Successfully",notifDisplay:"block",editorState:Oa.EditorState.createEmpty()})}},{key:"handleFileChange",value:function(e){var a=this,t=e.target.files[0],n=new FileReader;void 0!==t&&(n.onloadend=function(){a.changeState({file:t,imagePreviewUrl:n.result})},n.readAsDataURL(t))}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"componentDidMount",value:function(){var e=1*this.props.match.params.id,a=this.props,t=a.sendData,n=a.communityData,r=JSON.stringify(J()),i=new FormData;e&&(isNaN(e)?this.props.history.push("/community"):0===n.communityData.length?(i.append("request","get_comm_list"),i.append("user_type",T()),i.append("data",encodeURIComponent(r)),t(i)):this.updateState(n,e))}},{key:"componentDidUpdate",value:function(e){var a=1*this.props.match.params.id,t=this.props.communityData,n=t.loading,r=t.error,i=t.errorMesage,o=t.communityData;this.props!==e&&(console.log(o),void 0!==o.token?Y(o.token):void 0!==o.logoutUser&&"true"===o.logoutUser&&H(),"done"===n&&"true"===r?this.changeState({notification:i,notifDisplay:"block"}):"done"!==n||"false"!==o.error||a?"done"===n&&"false"===o.error&&a?"true"===o.submitted?this.props.history.push("/community"):this.updateState(this.props.communityData,a):"done"===n&&"true"===o.error&&this.changeState({notification:o.errorMesage,notifDisplay:"block"}):"true"===o.submitted&&this.cleanSlate())}},{key:"handleSubmit",value:function(e){e.preventDefault();var a=1*this.props.match.params.id,t=this.props.sendData,n=this.state,r=n.imagePreviewUrl,i=n.file,o=n.location,s=n.amount,l=n.editorState,c=JSON.stringify(Object(Oa.convertToRaw)(l.getCurrentContent())),m=JSON.stringify(Object(Be.a)({commID:a,location:o,amount:s,details:c},J())),u=new FormData;if(u.append("user_type",T()),u.append("data",encodeURIComponent(m)),u.append("file",i),a){var d=this.props.communityData.communityData.data.find((function(e){return e.id===a}));d.image===r&&d.location===o&&1*d.fundNeeded===s&&G(d.details)===c?this.changeState({notification:"You have not made any changes",notifDisplay:"block"}):(u.append("request","update_comm"),t(u))}else 0===i.length?this.changeState({notification:"Please select an image",notifDisplay:"block"}):(u.append("request","add_comm"),t(u))}},{key:"onEditorStateChange",value:function(e){this.setState({editorState:e})}},{key:"render",value:function(){var e=this.state,a=e.location,t=e.amount,n=e.imagePreviewUrl,r=e.submitted,i=e.editorState,o=e.notifDisplay,s=e.notification,l=this.props.communityData.loading,c="";return c="done"===l&&"true"===r?"SUBMIT":"true"===l?m.a.createElement("div",{id:"loader"}):"SUBMIT",m.a.createElement(m.a.Fragment,null,m.a.createElement(X.a,null,m.a.createElement("form",{encType:"multipart/form-data",method:"post",onSubmit:this.handleSubmit,className:"community_container containerFull"},m.a.createElement("label",{htmlFor:"file",className:"file_label"},m.a.createElement("img",{src:n,alt:""}),m.a.createElement("div",{className:"bar_upload"},m.a.createElement("span",{className:"upload_icon straight"}),m.a.createElement("span",{className:"upload_icon slanting"}),m.a.createElement("span",{className:"upload_icon round"}))),m.a.createElement("input",{type:"file",id:"file",name:"file",className:"file",accept:"image/*",onChange:this.handleFileChange,ref:this.fileRef}),m.a.createElement("div",{className:"title"},m.a.createElement("label",{htmlFor:"location"}),m.a.createElement(le.a,{type:"text",id:"location",name:"location",className:"title_input",value:a,onChange:this.handleChange,placeholder:"Enter location here",required:!0})),m.a.createElement("hr",{className:"hr"}),m.a.createElement("div",{className:"amount_edit_cover"},m.a.createElement("label",{htmlFor:"amount",className:"amount_edit_label"},"Fund:"),m.a.createElement("span",null,"\u20a6"),m.a.createElement(le.a,{type:"number",name:"amount",id:"amount",value:t,className:"amount_edit",onChange:this.handleChange,placeholder:"Amount",required:!0})),m.a.createElement("div",{style:{margin:"1.2em",border:"2px solid lightgrey",borderRadius:"0.5em",width:"100%",backgroundColor:"white"}},m.a.createElement(wa.Editor,{editorState:i,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange,toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","history"]}})),m.a.createElement("button",{type:"submit",name:"button",className:"btn_donate btn edit"}," ",c," ")),m.a.createElement("div",{className:"notif",style:{display:o}},s,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," ")))}}]),t}(c.Component)),_a=Object(C.d)(Object(p.b)((function(e){return{communityData:e.communityData}}),(function(e){return{sendData:function(a){return e(Ke(a))}}})))(Ca),ja=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(N.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"app flex-row align-items-center"},m.a.createElement($.a,null,m.a.createElement(X.a,{className:"justify-content-center"},m.a.createElement(ee.a,{md:"6"},m.a.createElement("div",{className:"clearfix"},m.a.createElement("h1",{className:"float-left display-3 mr-4"},"404"),m.a.createElement("h4",{className:"pt-3"},"Oops! You're lost."),m.a.createElement("p",{className:"text-muted float-left"},"The page you are looking for was not found."))))))}}]),t}(c.Component),Aa=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={email:"",firstName:"",lastName:"",notification:"",notifDisplay:"none",total:"",dontShow:!0,commData:[]},n.close=n.close.bind(Object(S.a)(n)),n.changeState=n.changeState.bind(Object(S.a)(n)),n.deleting=n.deleting.bind(Object(S.a)(n)),n.saveOrder=n.saveOrder.bind(Object(S.a)(n)),n.handleChange=n.handleChange.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"close",value:function(){this.setState({notifDisplay:"none",notification:""})}},{key:"changeState",value:function(e){this.setState(e)}},{key:"saveOrder",value:function(e){var a=1*this.props.match.params.id,t=this.state,n=t.email,r=t.total,i=this.props.sendCommData,o=JSON.stringify(Object(Be.a)({commID:a,email:n,donateRef:e,amount:r},J())),s=new FormData;s.append("request","donate_comm"),s.append("user_type",T()),s.append("data",encodeURIComponent(o)),i(s)}},{key:"handleChange",value:function(e){1*e.target.value>=200?this.changeState({total:e.target.value,dontShow:!1}):this.changeState({total:e.target.value,dontShow:!0})}},{key:"componentDidMount",value:function(){var e=1*this.props.match.params.id,a=this.props,t=a.sendCommData,n=a.communityData;if(!isNaN(e)){var r=J().name.trim().split(/ (.+)/);if(void 0===r[1]&&(r[1]=r[0]),this.changeState({lastName:r[0],firstName:r[1],email:J().findBy}),0===n.communityData.length){var i=JSON.stringify(J());if(0===n.communityData.length){var o=new FormData;o.append("request","get_comm_list"),o.append("user_type",T()),o.append("data",encodeURIComponent(i)),t(o)}}else this.changeState({commData:[n.communityData.data.find((function(a){return a.id===e}))]})}}},{key:"componentDidUpdate",value:function(e){var a=1*this.props.match.params.id,t=this.props.communityData,n=t.communityData,r=t.error;this.props!==e&&(0!==n.length?"true"===n.error?("true"===n.logoutUser&&H(),this.changeState({notifDisplay:"block",notification:n.errorMessage})):"true"===n.submitted?(Y(n.token),"Donate success"===n.message?this.changeState({total:"",commData:[n.data.find((function(e){return e.id===a}))],notifDisplay:"block",notification:n.message}):this.props.history.push("/community")):this.changeState({commData:[n.data.find((function(e){return e.id===a}))]}):"true"===r&&this.changeState({notifDisplay:"block",notification:"Please refresh or try again later"}))}},{key:"deleting",value:function(e){var a=this.props.sendCommData,t=JSON.stringify(Object(Be.a)(Object(Be.a)({},J()),{},{commID:e})),n=new FormData;n.append("request","del_comm"),n.append("user_type",T()),n.append("data",encodeURIComponent(t)),a(n)}},{key:"render",value:function(){var e,a,t=this,n=this.state,r=n.notification,i=n.notifDisplay,o=n.commData,s=n.email,l=n.firstName,c=n.lastName,u=n.total,d=n.dontShow,p=1*this.props.match.params.id,h=this.props.communityData,g=h.error,f=h.communityData;switch(T()){case"customer":a=function(e){return m.a.createElement("div",{className:"btn_view"},m.a.createElement(le.a,{type:"number",style:{border:"1px solid grey",marginRight:"0.5em",fontWeight:"600"},id:"amount",value:u,onChange:t.handleChange,placeholder:" min. \u20a6200",autoComplete:"off"}),m.a.createElement(Ye,{data:{email:s,lastName:c,firstName:l,total:u,saveOrder:t.saveOrder,button:["btn_donate btn delete","","Donate",d]}}))};break;case"admin":a=function(e){return m.a.createElement("div",{className:"btn_view"},m.a.createElement("button",{className:"delete btn",onClick:function(){return t.deleting(e)}},"Delete")," \xa0\xa0",m.a.createElement(O.Link,{to:"/community/edit/"+e},m.a.createElement("button",{className:"edit btn"},"Edit")))};break;default:a=function(e){return null}}return e=isNaN(p)?m.a.createElement(ja,null):0===f.length&&"true"!==g?m.a.createElement("div",{className:"loader_con"},m.a.createElement("div",{id:"big_loader"})):void 0===o[0]?m.a.createElement(ja,null):m.a.createElement(m.a.Fragment,null,o&&o.map((function(e){var t,n=e.details,r=K(e.published),i=Math.round(e.fundGotten/e.fundNeeded*100)+1;return t=i>60?"success":"red",n=Xe()(JSON.parse(G(G(n)))),m.a.createElement(X.a,{key:e.id},m.a.createElement("div",{className:"community_container containerFull"},m.a.createElement("div",{className:"image"},m.a.createElement("img",{src:e.image,alt:""})),m.a.createElement("div",{className:"title_big"},e.location),m.a.createElement("hr",{className:"hr"}),m.a.createElement("div",{className:"details"},m.a.createElement("div",{className:"detail"},m.a.createElement("div",{className:"published"},"Date Pubished"),m.a.createElement("div",{className:"date"},r.day+", "+r.month+" "+r.year)),m.a.createElement("div",{className:"detail"},m.a.createElement("div",{className:"amount"}," ",m.a.createElement("span",null,"Fund needed:")," \u20a6",e.fundNeeded),m.a.createElement(Ze.a,{color:t,value:i,className:"mb-3"},i,"%"))),m.a.createElement("div",{className:"text"},m.a.createElement(Z,{domString:n,className:"card__text"})),a(e.id)))}))),m.a.createElement(m.a.Fragment,null,e,m.a.createElement("div",{className:"notif",style:{display:i}},r,m.a.createElement("span",{role:"img","aria-label":"sheep",onClick:this.close},"\u274e")," "))}}]),t}(c.Component),xa=Object(C.d)(Object(p.b)((function(e){return{communityData:e.communityData}}),(function(e){return{sendCommData:function(a){return e(Ke(a))}}})))(Aa),La=[{path:"/community/edit/:id",exact:!0,name:"Edit",component:_a},{path:"/community/edit",exact:!0,name:"Edit",component:_a},{path:"/account/edit",exact:!0,name:"Edit",component:va},{path:"/community/:id",exact:!0,name:"View",component:xa},{path:"/account/address",exact:!0,name:"Map",component:Re},{path:"/account",exact:!0,name:"Account",component:ha},{path:"/community",exact:!0,name:"Community",component:aa},{path:"/customer",exact:!0,name:"Customer",component:ka},{path:"/agent",exact:!0,name:"Agent",component:Sa},{path:"/",exact:!1,name:"Home",component:ja}],Ta=[{path:"/pickups/new",exact:!0,name:"Address",component:na},{path:"/pickups/pending",exact:!0,name:"Address",component:ia},{path:"/account/address",exact:!0,name:"Map",component:Re},{path:"/pickups/map",exact:!0,name:"Order",component:qe},{path:"/account",exact:!0,name:"Account",component:ha},{path:"/support",exact:!0,name:"Support",component:ga},{path:"/history",exact:!0,name:"History",component:sa},{path:"/",exact:!1,name:"Home",component:ja}],Fa=[{path:"/order/summary",exact:!0,name:"Summary",component:ze},{path:"/community/:id",exact:!0,name:"View",component:xa},{path:"/account/address",exact:!0,name:"Map",component:Re},{path:"/order",exact:!0,name:"Order",component:Me},{path:"/account",exact:!0,name:"Account",component:ha},{path:"/support",exact:!0,name:"Support",component:ga},{path:"/community",exact:!0,name:"Community",component:aa},{path:"/history",exact:!0,name:"History",component:sa},{path:"/",exact:!1,name:"Home",component:ja}],Ma=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(N.a)(t,[{key:"render",value:function(){var e=this.props;e.children,Object(h.a)(e,["children"]);return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",null,m.a.createElement("a",{href:"https://swiip.000webhostapp.com"},"Swiip")," \xa9 2020 Clean-Initiative."),m.a.createElement("span",{className:"ml-auto"},"Contact Us @ ",m.a.createElement("a",{href:"https://swiip.000webhostapp.com/contact"},"Swiip desk")))}}]),t}(c.Component);Ma.defaultProps={};var Ua=Ma,Ia=t(341),Ra=t(344),Pa=t(345),qa=t(342),Ba=t(321),Ha=t(162),Ja=t.n(Ha),Va=t(163),Ya=t.n(Va),Wa=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(N.a)(t,[{key:"render",value:function(){var e=this,a=this.props;a.children,Object(h.a)(a,["children"]);return m.a.createElement(m.a.Fragment,null,m.a.createElement(w.h,{className:"d-lg-none",display:"md",mobile:!0}),m.a.createElement(w.d,{full:{src:Ja.a,width:120,height:30,alt:"Broomy Logo"},minimized:{src:Ya.a,width:30,height:30,alt:"Broomy Logo"}}),m.a.createElement(w.h,{className:"d-md-down-none",display:"lg"}),m.a.createElement(Ne.a,{className:"d-md-down-none",navbar:!0},m.a.createElement(Se.a,{className:"px-3"},m.a.createElement(O.NavLink,{to:"/account",className:"nav-link"},"Settings"))),m.a.createElement(Ne.a,{className:"ml-auto",navbar:!0},m.a.createElement(Ia.a,{nav:!0,direction:"down"},m.a.createElement(Ra.a,{nav:!0},m.a.createElement("img",{src:U(),className:"img-avatar",alt:"user",style:{border:"1px solid lightgrey"}})),m.a.createElement(Pa.a,{right:!0},m.a.createElement(qa.a,{header:!0,tag:"div",className:"text-center"},m.a.createElement("strong",null,"Account")),m.a.createElement(qa.a,null,m.a.createElement("i",{className:"fa fa-envelope"})," Message"),m.a.createElement(qa.a,{header:!0,tag:"div",className:"text-center"},m.a.createElement("strong",null,"Settings")),m.a.createElement(qa.a,null,m.a.createElement(O.NavLink,{to:"/account",className:"nav-link",style:{color:"black"}},m.a.createElement("i",{className:"fa fa-user"})," Profile")),m.a.createElement(qa.a,null,m.a.createElement("i",{className:"fa fa-money"})," Payments",m.a.createElement(Ba.a,{color:"secondary"},"42")),m.a.createElement(qa.a,{onClick:function(a){return e.props.onLogout(a)}},m.a.createElement("i",{className:"fa fa-sign-out"})," Logout")))))}}]),t}(c.Component);Wa.defaultProps={};var za=Wa,Ga=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).signOut=n.signOut.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"signOut",value:function(e){e.preventDefault(),V(),window.location.reload(!0)}},{key:"navPicker",value:function(e,a,t,n){return{customer:a,agent:t,admin:n}[e]}},{key:"routePicker",value:function(e,a,t,n){return{customer:a,agent:t,admin:n}[e]}},{key:"render",value:function(){var e=this,a=this.routePicker(T(),Fa,Ta,La),t=this.navPicker(T(),Ae,xe,Le);return m.a.createElement("div",{className:"app"},m.a.createElement(w.c,{fixed:!0},m.a.createElement(za,{onLogout:function(a){return e.signOut(a)}})),m.a.createElement("div",{className:"app-body"},m.a.createElement(w.e,{fixed:!0,display:"lg"},m.a.createElement(w.g,Object.assign({navConfig:t},this.props,{router:O})),m.a.createElement(w.f,null)),m.a.createElement("main",{className:"main",style:{backgroundColor:"white"}},m.a.createElement(w.a,{appRoutes:a,router:O}),m.a.createElement($.a,{fluid:!0},m.a.createElement(g.g,null,a.map((function(e,a){return e.component?m.a.createElement(g.d,{key:a,path:e.path,exact:e.exact,name:e.name,render:function(a){return m.a.createElement(e.component,a)}}):null})))))),m.a.createElement(w.b,null,m.a.createElement(Ua,null)))}}]),t}(c.Component),Qa=function(e){Object(D.a)(t,e);var a=Object(k.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={},n.say=n.say.bind(Object(S.a)(n)),n}return Object(N.a)(t,[{key:"say",value:function(){console.log("helllo, i am whatever function from another class")}},{key:"render",value:function(){return m.a.createElement("div",null)}}]),t}(c.Component),Ka=(c.Component,function(e){var a=e.component,t=Object(h.a)(e,["component"]);return m.a.createElement(g.d,Object.assign({},t,{render:function(e){return L()&&T()?m.a.createElement(a,e):m.a.createElement(g.c,{to:{pathname:"/login"}})}}))}),Za=function(e){var a=e.component,t=(e.ensureNonAuth,Object(h.a)(e,["component","ensureNonAuth"]));return m.a.createElement(g.d,Object.assign({},t,{render:function(e){return m.a.createElement(a,e)}}))},$a=function(){return m.a.createElement(g.e,{history:y},m.a.createElement(g.g,null,m.a.createElement(Za,{ensureNonAuth:!0,exact:!0,path:"/login",component:ve}),m.a.createElement(Za,{ensureNonAuth:!0,exact:!0,path:"/message",component:je}),m.a.createElement(Za,{ensureNonAuth:!0,exact:!0,path:"/register",component:Ce}),m.a.createElement(Ka,{path:"/",name:"Home",component:Ga})))},Xa=t(166),et={userloading:"false",userData:[],error:"false",errorMessage:""},at={orderloading:"false",orderData:[],error:"false",errorMessage:""},tt={loading:"false",adminData:[],error:"false",errorMessage:""},nt={loading:"false",communityData:[],error:"false",errorMessage:""},rt={isUserLoading:!1},it=Object(C.c)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_USER_DATA_REQUEST":return Object(Be.a)(Object(Be.a)({},e),{},{userloading:"true"});case"FETCH_USER_DATA_SUCCESS":return{error:"false",errorMessage:"",userData:a.payload,userloading:"done"};case"RESET_USER_DATA":return{userloading:"false",userData:[],error:"false",errorMessage:""};case"FETCH_USER_DATA_FAILURE":return Object(Be.a)(Object(Be.a)({},e),{},{userloading:"done",error:"true",errorMessage:a.payload});default:return e}},communityData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_COMMUNITY_DATA_REQUEST":return Object(Be.a)(Object(Be.a)({},e),{},{loading:"true"});case"FETCH_COMMUNITY_DATA_SUCCESS":return Object(Be.a)(Object(Be.a)({},e),{},{communityData:a.payload,loading:"done"});case"FETCH_COMMUNITY_DATA_FAILURE":return Object(Be.a)(Object(Be.a)({},e),{},{loading:"done",error:"true",errorMessage:a.payload});default:return e}},orderData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_OREDR_DATA_REQUEST":return Object(Be.a)(Object(Be.a)({},e),{},{orderloading:"true"});case"FETCH_ORDER_DATA_SUCCESS":return{error:"false",errorMessage:"",orderData:a.payload,orderloading:"done"};case"RESET_USER_DATA":return{orderloading:"false",orderData:[],error:"false",errorMessage:""};case"FETCH_ORDER_DATA_FAILURE":return Object(Be.a)(Object(Be.a)({},e),{},{orderloading:"done",error:"true",errorMessage:a.payload});default:return e}},adminData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_ADMIN_DATA_REQUEST":return Object(Be.a)(Object(Be.a)({},e),{},{loading:"true"});case"FETCH_ADMIN_DATA_SUCCESS":return Object(Be.a)(Object(Be.a)({},e),{},{adminData:a.payload,loading:"done"});case"FETCH_ADMIN_DATA_FAILURE":return Object(Be.a)(Object(Be.a)({},e),{},{loading:"done",error:"true",errorMessage:a.payload});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UI_START_LOADING":return Object(Be.a)(Object(Be.a)({},e),{},{isUserLoading:!0});case"USER_UI_STOP_LOADING":return Object(Be.a)(Object(Be.a)({},e),{},{isUserLoading:!1});default:return e}}});var ot=(0,C.d)(Object(C.a)(Xa.a)),st=Object(C.e)((function(e,a){return"RESET_APP"===a.type&&(e=void 0),it(e,a)}),ot),lt=function(){return m.a.createElement(p.a,{store:st},m.a.createElement($a,null))},ct=(t(315),t(316),t(317),function(){return m.a.createElement(lt,null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mt=m.a.createElement(ct,null);d.a.render(mt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[168,1,2]]]);
//# sourceMappingURL=main.1a836840.chunk.js.map